(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))t(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function e(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(a){if(a.ep)return;a.ep=!0;const u=e(a);fetch(a.href,u)}})();function Zr(r,n,e){return e.a=r,e.f=n,e}function f(r){return Zr(2,r,function(n){return function(e){return r(n,e)}})}function M(r){return Zr(3,r,function(n){return function(e){return function(t){return r(n,e,t)}}})}function N(r){return Zr(4,r,function(n){return function(e){return function(t){return function(a){return r(n,e,t,a)}}}})}function Ir(r){return Zr(5,r,function(n){return function(e){return function(t){return function(a){return function(u){return r(n,e,t,a,u)}}}}})}function Qr(r){return Zr(6,r,function(n){return function(e){return function(t){return function(a){return function(u){return function(o){return r(n,e,t,a,u,o)}}}}}})}function tt(r){return Zr(7,r,function(n){return function(e){return function(t){return function(a){return function(u){return function(o){return function(c){return r(n,e,t,a,u,o,c)}}}}}}})}function at(r){return Zr(8,r,function(n){return function(e){return function(t){return function(a){return function(u){return function(o){return function(c){return function(s){return r(n,e,t,a,u,o,c,s)}}}}}}}})}function it(r){return Zr(9,r,function(n){return function(e){return function(t){return function(a){return function(u){return function(o){return function(c){return function(s){return function(l){return r(n,e,t,a,u,o,c,s,l)}}}}}}}}})}function i(r,n,e){return r.a===2?r.f(n,e):r(n)(e)}function p(r,n,e,t){return r.a===3?r.f(n,e,t):r(n)(e)(t)}function U(r,n,e,t,a){return r.a===4?r.f(n,e,t,a):r(n)(e)(t)(a)}function H(r,n,e,t,a,u){return r.a===5?r.f(n,e,t,a,u):r(n)(e)(t)(a)(u)}function Xr(r,n,e,t,a,u,o){return r.a===6?r.f(n,e,t,a,u,o):r(n)(e)(t)(a)(u)(o)}function Fa(r,n,e,t,a,u,o,c){return r.a===7?r.f(n,e,t,a,u,o,c):r(n)(e)(t)(a)(u)(o)(c)}function fu(r,n,e,t,a,u,o,c,s){return r.a===8?r.f(n,e,t,a,u,o,c,s):r(n)(e)(t)(a)(u)(o)(c)(s)}function He(r,n,e,t,a,u,o,c,s,l){return r.a===9?r.f(n,e,t,a,u,o,c,s,l):r(n)(e)(t)(a)(u)(o)(c)(s)(l)}function V(r,n){for(var e,t=[],a=Oe(r,n,0,t);a&&(e=t.pop());a=Oe(e.a,e.b,0,t));return a}function Oe(r,n,e,t){if(r===n)return!0;if(typeof r!="object"||r===null||n===null)return typeof r=="function"&&Mn(5),!1;if(e>100)return t.push(v(r,n)),!0;r.$<0&&(r=ze(r),n=ze(n));for(var a in r)if(!Oe(r[a],n[a],e+1,t))return!1;return!0}f(V);f(function(r,n){return!V(r,n)});function B(r,n,e){if(typeof r!="object")return r===n?0:r<n?-1:1;if(typeof r.$>"u")return(e=B(r.a,n.a))||(e=B(r.b,n.b))?e:B(r.c,n.c);for(;r.b&&n.b&&!(e=B(r.a,n.a));r=r.b,n=n.b);return e||(r.b?1:n.b?-1:0)}f(function(r,n){return B(r,n)<0});f(function(r,n){return B(r,n)<1});f(function(r,n){return B(r,n)>0});f(function(r,n){return B(r,n)>=0});var su=f(function(r,n){var e=B(r,n);return e<0?ni:e?v$:ri}),sn=0;function v(r,n){return{a:r,b:n}}function zr(r,n,e){return{a:r,b:n,c:e}}function _(r,n){var e={};for(var t in r)e[t]=r[t];for(var t in n)e[t]=n[t];return e}f(kr);function kr(r,n){if(typeof r=="string")return r+n;if(!r.b)return n;var e=Br(r.a,n);r=r.b;for(var t=e;r.b;r=r.b)t=t.b=Br(r.a,n);return e}var S={$:0};function Br(r,n){return{$:1,a:r,b:n}}var lu=f(Br);function $(r){for(var n=S,e=r.length;e--;)n=Br(r[e],n);return n}function ut(r){for(var n=[];r.b;r=r.b)n.push(r.a);return n}var pu=M(function(r,n,e){for(var t=[];n.b&&e.b;n=n.b,e=e.b)t.push(i(r,n.a,e.a));return $(t)});N(function(r,n,e,t){for(var a=[];n.b&&e.b&&t.b;n=n.b,e=e.b,t=t.b)a.push(p(r,n.a,e.a,t.a));return $(a)});Ir(function(r,n,e,t,a){for(var u=[];n.b&&e.b&&t.b&&a.b;n=n.b,e=e.b,t=t.b,a=a.b)u.push(U(r,n.a,e.a,t.a,a.a));return $(u)});Qr(function(r,n,e,t,a,u){for(var o=[];n.b&&e.b&&t.b&&a.b&&u.b;n=n.b,e=e.b,t=t.b,a=a.b,u=u.b)o.push(H(r,n.a,e.a,t.a,a.a,u.a));return $(o)});var bu=f(function(r,n){return $(ut(n).sort(function(e,t){return B(r(e),r(t))}))});f(function(r,n){return $(ut(n).sort(function(e,t){var a=i(r,e,t);return a===ri?0:a===ni?-1:1}))});var mu=[];function hu(r){return r.length}var _u=M(function(r,n,e){for(var t=new Array(r),a=0;a<r;a++)t[a]=e(n+a);return t}),du=f(function(r,n){for(var e=new Array(r),t=0;t<r&&n.b;t++)e[t]=n.a,n=n.b;return e.length=t,v(e,n)});f(function(r,n){return n[r]});M(function(r,n,e){for(var t=e.length,a=new Array(t),u=0;u<t;u++)a[u]=e[u];return a[r]=n,a});f(function(r,n){for(var e=n.length,t=new Array(e+1),a=0;a<e;a++)t[a]=n[a];return t[e]=r,t});M(function(r,n,e){for(var t=e.length,a=0;a<t;a++)n=i(r,e[a],n);return n});var gu=M(function(r,n,e){for(var t=e.length-1;t>=0;t--)n=i(r,e[t],n);return n});f(function(r,n){for(var e=n.length,t=new Array(e),a=0;a<e;a++)t[a]=r(n[a]);return t});M(function(r,n,e){for(var t=e.length,a=new Array(t),u=0;u<t;u++)a[u]=i(r,n+u,e[u]);return a});M(function(r,n,e){return e.slice(r,n)});M(function(r,n,e){var t=n.length,a=r-t;a>e.length&&(a=e.length);for(var u=t+a,o=new Array(u),c=0;c<t;c++)o[c]=n[c];for(var c=0;c<a;c++)o[c+t]=e[c];return o});f(function(r,n){return n});f(function(r,n){return console.log(r+": "+ju()),n});function ju(r){return"<internals>"}function Mn(r){throw new Error("https://github.com/elm/core/blob/1.0.0/hints/"+r+".md")}f(function(r,n){return r+n});f(function(r,n){return r-n});f(function(r,n){return r*n});f(function(r,n){return r/n});f(function(r,n){return r/n|0});var wu=f(Math.pow);f(function(r,n){return n%r});f(function(r,n){var e=n%r;return r===0?Mn(11):e>0&&r<0||e<0&&r>0?e+r:e});var Cu=Math.PI,Mu=Math.cos,Du=Math.sin;f(Math.atan2);function Su(r){return r}var Au=Math.ceil,Eu=Math.floor,Tu=Math.round,Ju=Math.sqrt,ua=Math.log;f(function(r,n){return r&&n});f(function(r,n){return r||n});f(function(r,n){return r!==n});var ku=f(function(r,n){return r+n});function yu(r){var n=r.charCodeAt(0);return isNaN(n)?w:d(55296<=n&&n<=56319?v(r[0]+r[1],r.slice(2)):v(r[0],r.slice(1)))}f(function(r,n){return r+n});function Bu(r){return r.length}f(function(r,n){for(var e=n.length,t=new Array(e),a=0;a<e;){var u=n.charCodeAt(a);if(55296<=u&&u<=56319){t[a]=r(n[a]+n[a+1]),a+=2;continue}t[a]=r(n[a]),a++}return t.join("")});f(function(r,n){for(var e=[],t=n.length,a=0;a<t;){var u=n[a],o=n.charCodeAt(a);a++,55296<=o&&o<=56319&&(u+=n[a],a++),r(u)&&e.push(u)}return e.join("")});M(function(r,n,e){for(var t=e.length,a=0;a<t;){var u=e[a],o=e.charCodeAt(a);a++,55296<=o&&o<=56319&&(u+=e[a],a++),n=i(r,u,n)}return n});M(function(r,n,e){for(var t=e.length;t--;){var a=e[t],u=e.charCodeAt(t);56320<=u&&u<=57343&&(t--,a=e[t]+a),n=i(r,a,n)}return n});var Iu=f(function(r,n){return n.split(r)}),Fu=f(function(r,n){return n.join(r)}),Pu=M(function(r,n,e){return e.slice(r,n)});function Lu(r){return r.toUpperCase()}function Vu(r){return r.toLowerCase()}f(function(r,n){for(var e=n.length;e--;){var t=n[e],a=n.charCodeAt(e);if(56320<=a&&a<=57343&&(e--,t=n[e]+t),r(t))return!0}return!1});var xu=f(function(r,n){for(var e=n.length;e--;){var t=n[e],a=n.charCodeAt(e);if(56320<=a&&a<=57343&&(e--,t=n[e]+t),!r(t))return!1}return!0}),Ru=f(function(r,n){return n.indexOf(r)>-1}),Hu=f(function(r,n){return n.indexOf(r)===0}),Ou=f(function(r,n){return n.length>=r.length&&n.lastIndexOf(r)===n.length-r.length}),Uu=f(function(r,n){var e=r.length;if(e<1)return S;for(var t=0,a=[];(t=n.indexOf(r,t))>-1;)a.push(t),t=t+e;return $(a)});function Pa(r){return r+""}function qu(r){for(var n=0,e=r.charCodeAt(0),t=e==43||e==45?1:0,a=t;a<r.length;++a){var u=r.charCodeAt(a);if(u<48||57<u)return w;n=10*n+u-48}return a==t?w:d(e==45?-n:n)}function Wu(r){var n=r.charCodeAt(0);return 55296<=n&&n<=56319?(n-55296)*1024+r.charCodeAt(1)-56320+65536:n}function zu(r){return{$:0,a:r}}function Gu(r){return{$:1,a:r}}function be(r){return{$:2,b:r}}var Yu=be(function(r){return typeof r!="number"?wr("an INT",r):-2147483647<r&&r<2147483647&&(r|0)===r||isFinite(r)&&!(r%1)?Dr(r):wr("an INT",r)}),Xu=be(function(r){return typeof r=="number"?Dr(r):wr("a FLOAT",r)}),Zu=be(function(r){return Dr(r)}),Qu=be(function(r){return typeof r=="string"?Dr(r):r instanceof String?Dr(r+""):wr("a STRING",r)}),Ku=f(function(r,n){return{$:6,d:r,b:n}});f(function(r,n){return{$:7,e:r,b:n}});function Kr(r,n){return{$:9,f:r,g:n}}var Nu=f(function(r,n){return{$:10,b:n,h:r}}),ro=f(function(r,n){return Kr(r,[n])}),no=M(function(r,n,e){return Kr(r,[n,e])}),eo=N(function(r,n,e,t){return Kr(r,[n,e,t])});Ir(function(r,n,e,t,a){return Kr(r,[n,e,t,a])});Qr(function(r,n,e,t,a,u){return Kr(r,[n,e,t,a,u])});var to=tt(function(r,n,e,t,a,u,o){return Kr(r,[n,e,t,a,u,o])});at(function(r,n,e,t,a,u,o,c){return Kr(r,[n,e,t,a,u,o,c])});var ao=it(function(r,n,e,t,a,u,o,c,s){return Kr(r,[n,e,t,a,u,o,c,s])});f(function(r,n){try{var e=JSON.parse(n);return dr(r,e)}catch(t){return qr(i(mt,"This is not valid JSON! "+t.message,n))}});var ot=f(function(r,n){return dr(r,n)});function dr(r,n){switch(r.$){case 2:return r.b(n);case 5:return n===null?Dr(r.c):wr("null",n);case 3:return ee(n)?oa(r.b,n,$):wr("a LIST",n);case 4:return ee(n)?oa(r.b,n,io):wr("an ARRAY",n);case 6:var e=r.d;if(typeof n!="object"||n===null||!(e in n))return wr("an OBJECT with a field named `"+e+"`",n);var l=dr(r.b,n[e]);return Cr(l)?l:qr(i(pa,e,l.a));case 7:var t=r.e;if(!ee(n))return wr("an ARRAY",n);if(t>=n.length)return wr("a LONGER array. Need index "+t+" but only see "+n.length+" entries",n);var l=dr(r.b,n[t]);return Cr(l)?l:qr(i(ti,t,l.a));case 8:if(typeof n!="object"||n===null||ee(n))return wr("an OBJECT",n);var a=S;for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)){var l=dr(r.b,n[u]);if(!Cr(l))return qr(i(pa,u,l.a));a=Br(v(u,l.a),a)}return Dr(yr(a));case 9:for(var o=r.f,c=r.g,s=0;s<c.length;s++){var l=dr(c[s],n);if(!Cr(l))return l;o=o(l.a)}return Dr(o);case 10:var l=dr(r.b,n);return Cr(l)?dr(r.h(l.a),n):l;case 11:for(var m=S,b=r.g;b.b;b=b.b){var l=dr(b.a,n);if(Cr(l))return l;m=Br(l.a,m)}return qr(f$(yr(m)));case 1:return qr(i(mt,r.a,n));case 0:return Dr(r.a)}}function oa(r,n,e){for(var t=n.length,a=new Array(t),u=0;u<t;u++){var o=dr(r,n[u]);if(!Cr(o))return qr(i(ti,u,o.a));a[u]=o.a}return Dr(e(a))}function ee(r){return Array.isArray(r)||typeof FileList<"u"&&r instanceof FileList}function io(r){return i(J$,r.length,function(n){return r[n]})}function wr(r,n){return qr(i(mt,"Expecting "+r,n))}function jn(r,n){if(r===n)return!0;if(r.$!==n.$)return!1;switch(r.$){case 0:case 1:return r.a===n.a;case 2:return r.b===n.b;case 5:return r.c===n.c;case 3:case 4:case 8:return jn(r.b,n.b);case 6:return r.d===n.d&&jn(r.b,n.b);case 7:return r.e===n.e&&jn(r.b,n.b);case 9:return r.f===n.f&&$a(r.g,n.g);case 10:return r.h===n.h&&jn(r.b,n.b);case 11:return $a(r.g,n.g)}}function $a(r,n){var e=r.length;if(e!==n.length)return!1;for(var t=0;t<e;t++)if(!jn(r[t],n[t]))return!1;return!0}var uo=f(function(r,n){return JSON.stringify(n,null,r)+""});function me(r){return r}function oo(){return[]}function $o(){return{}}var co=M(function(r,n,e){var t=n;return r==="toJSON"&&typeof t=="function"||(e[r]=t),e});function vo(r){return f(function(n,e){return e.push(r(n)),e})}var fo=null;function Rr(r){return{$:0,a:r}}function so(r){return{$:1,a:r}}function Ar(r){return{$:2,b:r,c:null}}var Ue=f(function(r,n){return{$:3,b:r,d:n}});f(function(r,n){return{$:4,b:r,d:n}});function lo(r){return{$:5,b:r}}var po=0;function $t(r){var n={$:0,e:po++,f:r,g:null,h:[]};return ct(n),n}function La(r){return Ar(function(n){n(Rr($t(r)))})}function Va(r,n){r.h.push(n),ct(r)}var bo=f(function(r,n){return Ar(function(e){Va(r,n),e(Rr(sn))})});function mo(r){return Ar(function(n){var e=r.f;e.$===2&&e.c&&e.c(),r.f=null,n(Rr(sn))})}var ye=!1,ca=[];function ct(r){if(ca.push(r),!ye){for(ye=!0;r=ca.shift();)ho(r);ye=!1}}function ho(r){for(;r.f;){var n=r.f.$;if(n===0||n===1){for(;r.g&&r.g.$!==n;)r.g=r.g.i;if(!r.g)return;r.f=r.g.b(r.f.a),r.g=r.g.i}else if(n===2){r.f.c=r.f.b(function(e){r.f=e,ct(r)});return}else if(n===5){if(r.h.length===0)return;r.f=r.f.b(r.h.shift())}else r.g={$:n===3?0:1,b:r.f.b,i:r.g},r.f=r.f.d}}function _o(r){return Ar(function(n){var e=setTimeout(function(){n(Rr(sn))},r);return function(){clearTimeout(e)}})}N(function(r,n,e,t){return vt(n,t,r.bm,r.bA,r.by,function(){return function(){}})});function vt(r,n,e,t,a,u){var o=i(ot,r,n?n.flags:void 0);Cr(o)||Mn(2);var c={},s=e(o.a),l=s.a,m=u(j,l),b=go(c,j);function j(g,A){var y=i(t,g,l);m(l=y.a,A),fa(c,y.b,a(l))}return fa(c,s.b,a(l)),b?{ports:b}:{}}var cr={};function go(r,n){var e;for(var t in cr){var a=cr[t];a.a&&(e=e||{},e[t]=a.a(t,n)),r[t]=jo(a,n)}return e}function xa(r,n,e,t,a){return{b:r,c:n,d:e,e:t,f:a}}function jo(r,n){var e={g:n,h:void 0},t=r.c,a=r.d,u=r.e,o=r.f;function c(s){return i(Ue,c,lo(function(l){var m=l.a;return l.$===0?p(a,e,m,s):u&&o?U(t,e,m.i,m.j,s):p(t,e,u?m.i:m.j,s)}))}return e.h=$t(i(Ue,c,r.b))}var wo=f(function(r,n){return Ar(function(e){r.g(n),e(Rr(sn))})}),Co=f(function(r,n){return i(bo,r.h,{$:0,a:n})});function he(r){return function(n){return{$:1,k:r,l:n}}}function Ra(r){return{$:2,m:r}}f(function(r,n){return{$:3,n:r,o:n}});var va=[],Be=!1;function fa(r,n,e){if(va.push({p:r,q:n,r:e}),!Be){Be=!0;for(var t;t=va.shift();)Mo(t.p,t.q,t.r);Be=!1}}function Mo(r,n,e){var t={};ue(!0,n,t,null),ue(!1,e,t,null);for(var a in r)Va(r[a],{$:"fx",a:t[a]||{i:S,j:S}})}function ue(r,n,e,t){switch(n.$){case 1:var a=n.k,u=Do(r,a,t,n.l);e[a]=So(r,u,e[a]);return;case 2:for(var o=n.m;o.b;o=o.b)ue(r,o.a,e,t);return;case 3:ue(r,n.o,e,{s:n.n,t});return}}function Do(r,n,e,t){function a(o){for(var c=e;c;c=c.t)o=c.s(o);return o}var u=r?cr[n].e:cr[n].f;return i(u,a,t)}function So(r,n,e){return e=e||{i:S,j:S},r?e.i=Br(n,e.i):e.j=Br(n,e.j),e}function Ha(r){cr[r]&&Mn(3)}function Fr(r,n){return Ha(r),cr[r]={e:Ao,u:n,a:Eo},he(r)}var Ao=f(function(r,n){return n});function Eo(r){var n=[],e=cr[r].u,t=_o(0);cr[r].b=t,cr[r].c=M(function(o,c,s){for(;c.b;c=c.b)for(var l=n,m=e(c.a),b=0;b<l.length;b++)l[b](m);return t});function a(o){n.push(o)}function u(o){n=n.slice();var c=n.indexOf(o);c>=0&&n.splice(c,1)}return{subscribe:a,unsubscribe:u}}function Dn(r,n){return Ha(r),cr[r]={f:To,u:n,a:Jo},he(r)}var To=f(function(r,n){return function(e){return r(n(e))}});function Jo(r,n){var e=S,t=cr[r].u,a=Rr(null);cr[r].b=a,cr[r].c=M(function(o,c,s){return e=c,a});function u(o){var c=i(ot,t,o);Cr(c)||Mn(4,r,c.a);for(var s=c.a,l=e;l.b;l=l.b)n(l.a(s))}return{send:u}}var oe,on=typeof document<"u"?document:{};function ft(r,n){r.appendChild(n)}N(function(r,n,e,t){var a=t.node;return a.parentNode.replaceChild(Yr(r,function(){}),a),{}});function qe(r){return{$:0,a:r}}var ko=f(function(r,n){return f(function(e,t){for(var a=[],u=0;t.b;t=t.b){var o=t.a;u+=o.b||0,a.push(o)}return u+=a.length,{$:1,c:n,d:Wa(e),e:a,f:r,b:u}})}),gr=ko(void 0),yo=f(function(r,n){return f(function(e,t){for(var a=[],u=0;t.b;t=t.b){var o=t.a;u+=o.b.b||0,a.push(o)}return u+=a.length,{$:2,c:n,d:Wa(e),e:a,f:r,b:u}})}),Bo=yo(void 0),Io=f(function(r,n){return{$:4,j:r,k:n,b:1+(n.b||0)}});function Nr(r,n){return{$:5,l:r,m:n,k:void 0}}f(function(r,n){return Nr([r,n],function(){return r(n)})});M(function(r,n,e){return Nr([r,n,e],function(){return i(r,n,e)})});N(function(r,n,e,t){return Nr([r,n,e,t],function(){return p(r,n,e,t)})});Ir(function(r,n,e,t,a){return Nr([r,n,e,t,a],function(){return U(r,n,e,t,a)})});Qr(function(r,n,e,t,a,u){return Nr([r,n,e,t,a,u],function(){return H(r,n,e,t,a,u)})});tt(function(r,n,e,t,a,u,o){return Nr([r,n,e,t,a,u,o],function(){return Xr(r,n,e,t,a,u,o)})});at(function(r,n,e,t,a,u,o,c){return Nr([r,n,e,t,a,u,o,c],function(){return Fa(r,n,e,t,a,u,o,c)})});it(function(r,n,e,t,a,u,o,c,s){return Nr([r,n,e,t,a,u,o,c,s],function(){return fu(r,n,e,t,a,u,o,c,s)})});var Oa=f(function(r,n){return{$:"a0",n:r,o:n}}),Fo=f(function(r,n){return{$:"a1",n:r,o:n}}),st=f(function(r,n){return{$:"a2",n:r,o:n}}),_e=f(function(r,n){return{$:"a3",n:r,o:n}});M(function(r,n,e){return{$:"a4",n,o:{f:r,o:e}}});var Po=/^script$/i,Lo=/^(on|formAction$)/i,Ua=/^\s*(j\s*a\s*v\s*a\s*s\s*c\s*r\s*i\s*p\s*t\s*:|d\s*a\s*t\s*a\s*:\s*t\s*e\s*x\s*t\s*\/\s*h\s*t\s*m\s*l\s*(,|;))/i;function Vo(r){return Po.test(r)?"p":r}function xo(r){return Lo.test(r)?"data-"+r:r}function Ro(r){return r=="innerHTML"||r=="outerHTML"||r=="formAction"?"data-"+r:r}function qa(r){return Ua.test(r)?"":r}function Ho(r){return typeof r=="string"&&Ua.test(r)?"":r}f(function(r,n){return n.$==="a0"?i(Oa,n.n,Oo(r,n.o)):n});function Oo(r,n){var e=gt(n);return{$:n.$,a:e?p(ge,e<3?Uo:qo,ir(r),n.a):i(Yn,r,n.a)}}var Uo=f(function(r,n){return v(r(n.a),n.b)}),qo=f(function(r,n){return{G:r(n.G),aB:n.aB,ax:n.ax}});function Wa(r){for(var n={};r.b;r=r.b){var e=r.a,t=e.$,a=e.n,u=e.o;if(t==="a2"){a==="className"?sa(n,a,u):n[a]=u;continue}var o=n[t]||(n[t]={});t==="a3"&&a==="class"?sa(o,a,u):o[a]=u}return n}function sa(r,n,e){var t=r[n];r[n]=t?t+" "+e:e}function Yr(r,n){var e=r.$;if(e===5)return Yr(r.k||(r.k=r.m()),n);if(e===0)return on.createTextNode(r.a);if(e===4){for(var t=r.k,a=r.j;t.$===4;)typeof a!="object"?a=[a,t.j]:a.push(t.j),t=t.k;var u={j:a,p:n},o=Yr(t,u);return o.elm_event_node_ref=u,o}if(e===3){var o=r.h(r.g);return We(o,n,r.d),o}var o=r.f?on.createElementNS(r.f,r.c):on.createElement(r.c);oe&&r.c=="a"&&o.addEventListener("click",oe(o)),We(o,n,r.d);for(var c=r.e,s=0;s<c.length;s++)ft(o,Yr(e===1?c[s]:c[s].b,n));return o}function We(r,n,e){for(var t in e){var a=e[t];t==="a1"?Wo(r,a):t==="a0"?Yo(r,n,a):t==="a3"?zo(r,a):t==="a4"?Go(r,a):(t!=="value"&&t!=="checked"||r[t]!==a)&&(r[t]=a)}}function Wo(r,n){var e=r.style;for(var t in n)e[t]=n[t]}function zo(r,n){for(var e in n){var t=n[e];typeof t<"u"?r.setAttribute(e,t):r.removeAttribute(e)}}function Go(r,n){for(var e in n){var t=n[e],a=t.f,u=t.o;typeof u<"u"?r.setAttributeNS(a,e,u):r.removeAttributeNS(a,e)}}function Yo(r,n,e){var t=r.elmFs||(r.elmFs={});for(var a in e){var u=e[a],o=t[a];if(!u){r.removeEventListener(a,o),t[a]=void 0;continue}if(o){var c=o.q;if(c.$===u.$){o.q=u;continue}r.removeEventListener(a,o)}o=Xo(n,u),r.addEventListener(a,o,lt&&{passive:gt(u)<2}),t[a]=o}}var lt;try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){lt=!0}}))}catch{}function Xo(r,n){function e(t){var a=e.q,u=dr(a.a,t);if(Cr(u)){for(var o=gt(a),c=u.a,s=o?o<3?c.a:c.G:c,l=o==1?c.b:o==3&&c.aB,m=(l&&t.stopPropagation(),(o==2?c.b:o==3&&c.ax)&&t.preventDefault(),r),b,j;b=m.j;){if(typeof b=="function")s=b(s);else for(var j=b.length;j--;)s=b[j](s);m=m.p}m(s,l)}}return e.q=n,e}function Zo(r,n){return r.$==n.$&&jn(r.a,n.a)}function za(r,n){var e=[];return Mr(r,n,e,0),e}function $r(r,n,e,t){var a={$:n,r:e,s:t,t:void 0,u:void 0};return r.push(a),a}function Mr(r,n,e,t){if(r!==n){var a=r.$,u=n.$;if(a!==u)if(a===1&&u===2)n=a$(n),u=1;else{$r(e,0,t,n);return}switch(u){case 5:for(var o=r.l,c=n.l,s=o.length,l=s===c.length;l&&s--;)l=o[s]===c[s];if(l){n.k=r.k;return}n.k=n.m();var m=[];Mr(r.k,n.k,m,0),m.length>0&&$r(e,1,t,m);return;case 4:for(var b=r.j,j=n.j,g=!1,A=r.k;A.$===4;)g=!0,typeof b!="object"?b=[b,A.j]:b.push(A.j),A=A.k;for(var y=n.k;y.$===4;)g=!0,typeof j!="object"?j=[j,y.j]:j.push(y.j),y=y.k;if(g&&b.length!==j.length){$r(e,0,t,n);return}(g?!Qo(b,j):b!==j)&&$r(e,2,t,j),Mr(A,y,e,t+1);return;case 0:r.a!==n.a&&$r(e,3,t,n.a);return;case 1:la(r,n,e,t,Ko);return;case 2:la(r,n,e,t,No);return;case 3:if(r.h!==n.h){$r(e,0,t,n);return}var J=pt(r.d,n.d);J&&$r(e,4,t,J);var P=n.i(r.g,n.g);P&&$r(e,5,t,P);return}}}function Qo(r,n){for(var e=0;e<r.length;e++)if(r[e]!==n[e])return!1;return!0}function la(r,n,e,t,a){if(r.c!==n.c||r.f!==n.f){$r(e,0,t,n);return}var u=pt(r.d,n.d);u&&$r(e,4,t,u),a(r,n,e,t)}function pt(r,n,e){var t;for(var a in r){if(a==="a1"||a==="a0"||a==="a3"||a==="a4"){var u=pt(r[a],n[a]||{},a);u&&(t=t||{},t[a]=u);continue}if(!(a in n)){t=t||{},t[a]=e?e==="a1"?"":e==="a0"||e==="a3"?void 0:{f:r[a].f,o:void 0}:typeof r[a]=="string"?"":null;continue}var o=r[a],c=n[a];o===c&&a!=="value"&&a!=="checked"||e==="a0"&&Zo(o,c)||(t=t||{},t[a]=c)}for(var s in n)s in r||(t=t||{},t[s]=n[s]);return t}function Ko(r,n,e,t){var a=r.e,u=n.e,o=a.length,c=u.length;o>c?$r(e,6,t,{v:c,i:o-c}):o<c&&$r(e,7,t,{v:o,e:u});for(var s=o<c?o:c,l=0;l<s;l++){var m=a[l];Mr(m,u[l],e,++t),t+=m.b||0}}function No(r,n,e,t){for(var a=[],u={},o=[],c=r.e,s=n.e,l=c.length,m=s.length,b=0,j=0,g=t;b<l&&j<m;){var A=c[b],y=s[j],J=A.a,P=y.a,I=A.b,ar=y.b,Z=void 0,rr=void 0;if(J===P){g++,Mr(I,ar,a,g),g+=I.b||0,b++,j++;continue}var lr=c[b+1],Hr=s[j+1];if(lr){var En=lr.a,Pr=lr.b;rr=P===En}if(Hr){var Or=Hr.a,ln=Hr.b;Z=J===Or}if(Z&&rr){g++,Mr(I,ln,a,g),Rn(u,a,J,ar,j,o),g+=I.b||0,g++,Hn(u,a,J,Pr,g),g+=Pr.b||0,b+=2,j+=2;continue}if(Z){g++,Rn(u,a,P,ar,j,o),Mr(I,ln,a,g),g+=I.b||0,b+=1,j+=2;continue}if(rr){g++,Hn(u,a,J,I,g),g+=I.b||0,g++,Mr(Pr,ar,a,g),g+=Pr.b||0,b+=2,j+=1;continue}if(lr&&En===Or){g++,Hn(u,a,J,I,g),Rn(u,a,P,ar,j,o),g+=I.b||0,g++,Mr(Pr,ln,a,g),g+=Pr.b||0,b+=2,j+=2;continue}break}for(;b<l;){g++;var A=c[b],I=A.b;Hn(u,a,A.a,I,g),g+=I.b||0,b++}for(;j<m;){var pr=pr||[],y=s[j];Rn(u,a,y.a,y.b,void 0,pr),j++}(a.length>0||o.length>0||pr)&&$r(e,8,t,{w:a,x:o,y:pr})}var Ga="_elmW6BL";function Rn(r,n,e,t,a,u){var o=r[e];if(!o){o={c:0,z:t,r:a,s:void 0},u.push({r:a,A:o}),r[e]=o;return}if(o.c===1){u.push({r:a,A:o}),o.c=2;var c=[];Mr(o.z,t,c,o.r),o.r=a,o.s.s={w:c,A:o};return}Rn(r,n,e+Ga,t,a,u)}function Hn(r,n,e,t,a){var u=r[e];if(!u){var o=$r(n,9,a,void 0);r[e]={c:1,z:t,r:a,s:o};return}if(u.c===0){u.c=2;var c=[];Mr(t,u.z,c,a),$r(n,9,a,{w:c,A:u});return}Hn(r,n,e+Ga,t,a)}function Ya(r,n,e,t){On(r,n,e,0,0,n.b,t)}function On(r,n,e,t,a,u,o){for(var c=e[t],s=c.r;s===a;){var l=c.$;if(l===1)Ya(r,n.k,c.s,o);else if(l===8){c.t=r,c.u=o;var m=c.s.w;m.length>0&&On(r,n,m,0,a,u,o)}else if(l===9){c.t=r,c.u=o;var b=c.s;if(b){b.A.s=r;var m=b.w;m.length>0&&On(r,n,m,0,a,u,o)}}else c.t=r,c.u=o;if(t++,!(c=e[t])||(s=c.r)>u)return t}var j=n.$;if(j===4){for(var g=n.k;g.$===4;)g=g.k;return On(r,g,e,t,a+1,u,r.elm_event_node_ref)}for(var A=n.e,y=r.childNodes,J=0;J<A.length;J++){a++;var P=j===1?A[J]:A[J].b,I=a+(P.b||0);if(a<=s&&s<=I&&(t=On(y[J],P,e,t,a,I,o),!(c=e[t])||(s=c.r)>u))return t;a=I}return t}function Xa(r,n,e,t){return e.length===0?r:(Ya(r,n,e,t),$e(r,e))}function $e(r,n){for(var e=0;e<n.length;e++){var t=n[e],a=t.t,u=r$(a,t);a===r&&(r=u)}return r}function r$(r,n){switch(n.$){case 0:return n$(r,n.s,n.u);case 4:return We(r,n.u,n.s),r;case 3:return r.replaceData(0,r.length,n.s),r;case 1:return $e(r,n.s);case 2:return r.elm_event_node_ref?r.elm_event_node_ref.j=n.s:r.elm_event_node_ref={j:n.s,p:n.u},r;case 6:for(var u=n.s,t=0;t<u.i;t++)r.removeChild(r.childNodes[u.v]);return r;case 7:for(var u=n.s,e=u.e,t=u.v,a=r.childNodes[t];t<e.length;t++)r.insertBefore(Yr(e[t],n.u),a);return r;case 9:var u=n.s;if(!u)return r.parentNode.removeChild(r),r;var o=u.A;return typeof o.r<"u"&&r.parentNode.removeChild(r),o.s=$e(r,u.w),r;case 8:return e$(r,n);case 5:return n.s(r);default:Mn(10)}}function n$(r,n,e){var t=r.parentNode,a=Yr(n,e);return a.elm_event_node_ref||(a.elm_event_node_ref=r.elm_event_node_ref),t&&a!==r&&t.replaceChild(a,r),a}function e$(r,n){var e=n.s,t=t$(e.y,n);r=$e(r,e.w);for(var a=e.x,u=0;u<a.length;u++){var o=a[u],c=o.A,s=c.c===2?c.s:Yr(c.z,n.u);r.insertBefore(s,r.childNodes[o.r])}return t&&ft(r,t),r}function t$(r,n){if(r){for(var e=on.createDocumentFragment(),t=0;t<r.length;t++){var a=r[t],u=a.A;ft(e,u.c===2?u.s:Yr(u.z,n.u))}return e}}function bt(r){if(r.nodeType===3)return qe(r.textContent);if(r.nodeType!==1)return qe("");for(var n=S,e=r.attributes,t=e.length;t--;){var a=e[t],u=a.name,o=a.value;n=Br(i(_e,u,o),n)}for(var c=r.tagName.toLowerCase(),s=S,l=r.childNodes,t=l.length;t--;)s=Br(bt(l[t]),s);return p(gr,c,n,s)}function a$(r){for(var n=r.e,e=n.length,t=new Array(e),a=0;a<e;a++)t[a]=n[a].b;return{$:1,c:r.c,d:r.d,e:t,f:r.f,b:r.b}}var i$=N(function(r,n,e,t){return vt(n,t,r.bm,r.bA,r.by,function(a,u){var o=r.bB,c=t.node,s=bt(c);return Za(u,function(l){var m=o(l),b=za(s,m);c=Xa(c,s,b,a),s=m})})});N(function(r,n,e,t){return vt(n,t,r.bm,r.bA,r.by,function(a,u){var o=r.az&&r.az(a),c=r.bB,s=on.title,l=on.body,m=bt(l);return Za(u,function(b){oe=o;var j=c(b),g=gr("body")(S)(j.a9),A=za(m,g);l=Xa(l,m,A,a),m=g,oe=0,s!==j.bz&&(on.title=s=j.bz)})})});var ce=typeof requestAnimationFrame<"u"?requestAnimationFrame:function(r){return setTimeout(r,1e3/60)};function Za(r,n){n(r);var e=0;function t(){e=e===1?0:(ce(t),n(r),1)}return function(a,u){r=a,u?(n(r),e===2&&(e=1)):(e===0&&ce(t),e=2)}}f(function(r,n){return i(Ct,wt,Ar(function(){n&&history.go(n),r()}))});f(function(r,n){return i(Ct,wt,Ar(function(){history.pushState({},"",n),r()}))});f(function(r,n){return i(Ct,wt,Ar(function(){history.replaceState({},"",n),r()}))});var Qa={addEventListener:function(){},removeEventListener:function(){}},u$=typeof document<"u"?document:Qa,Ka=typeof window<"u"?window:Qa,o$=M(function(r,n,e){return La(Ar(function(t){function a(u){$t(e(u))}return r.addEventListener(n,a,lt&&{passive:!0}),function(){r.removeEventListener(n,a)}}))}),$$=f(function(r,n){var e=dr(r,n);return Cr(e)?d(e.a):w});function Na(r,n){return Ar(function(e){ce(function(){var t=document.getElementById(r);e(t?Rr(n(t)):so(k$(r)))})})}function c$(r){return Ar(function(n){ce(function(){n(Rr(r()))})})}f(function(r,n){return Na(n,function(e){return e[r](),sn})});f(function(r,n){return c$(function(){return Ka.scroll(r,n),sn})});M(function(r,n,e){return Na(r,function(t){return t.scrollLeft=n,t.scrollTop=e,sn})});f(function(r,n){return r&n});f(function(r,n){return r|n});f(function(r,n){return r^n});f(function(r,n){return n<<r});f(function(r,n){return n>>r});f(function(r,n){return n>>>r});var ri=1,v$=2,ni=0,k=lu,ei=M(function(r,n,e){r:for(;;){if(e.$===-2)return n;var t=e.b,a=e.c,u=e.d,o=e.e,c=r,s=p(r,t,a,p(ei,r,n,o)),l=u;r=c,n=s,e=l;continue r}}),ze=function(r){return p(ei,M(function(n,e,t){return i(k,v(n,e),t)}),S,r)},te=gu;M(function(r,n,e){var t=e.c,a=e.d,u=f(function(o,c){if(o.$){var l=o.a;return p(te,r,c,l)}else{var s=o.a;return p(te,u,c,s)}});return p(te,u,p(te,r,n,a),t)});var qr=function(r){return{$:1,a:r}},mt=f(function(r,n){return{$:3,a:r,b:n}}),pa=f(function(r,n){return{$:0,a:r,b:n}}),ti=f(function(r,n){return{$:1,a:r,b:n}}),Dr=function(r){return{$:0,a:r}},f$=function(r){return{$:2,a:r}},d=function(r){return{$:0,a:r}},w={$:1},s$=xu,l$=uo,Y=Pa,an=f(function(r,n){return i(Fu,r,ut(n))}),ai=f(function(r,n){return $(i(Iu,r,n))}),ii=function(r){return i(an,`
    `,i(ai,`
`,r))},sr=M(function(r,n,e){r:for(;;)if(e.b){var t=e.a,a=e.b,u=r,o=i(r,t,n),c=a;r=u,n=o,e=c;continue r}else return n}),Cn=function(r){return p(sr,f(function(n,e){return e+1}),0,r)},p$=pu,b$=M(function(r,n,e){r:for(;;)if(B(r,n)<1){var t=r,a=n-1,u=i(k,n,e);r=t,n=a,e=u;continue r}else return e}),ht=f(function(r,n){return p(b$,r,n,S)}),m$=f(function(r,n){return p(p$,r,i(ht,0,Cn(n)-1),n)}),_t=Wu,ui=function(r){var n=_t(r);return 97<=n&&n<=122},oi=function(r){var n=_t(r);return n<=90&&65<=n},h$=function(r){return ui(r)||oi(r)},_$=function(r){var n=_t(r);return n<=57&&48<=n},d$=function(r){return ui(r)||oi(r)||_$(r)},yr=function(r){return p(sr,k,S,r)},g$=yu,j$=f(function(r,n){return`

(`+(Y(r+1)+(") "+ii(Un(n))))}),Un=function(r){return i(w$,r,S)},w$=f(function(r,n){r:for(;;)switch(r.$){case 0:var e=r.a,o=r.b,t=(function(){var y=g$(e);if(y.$===1)return!1;var J=y.a,P=J.a,I=J.b;return h$(P)&&i(s$,d$,I)})(),a=t?"."+e:"['"+(e+"']"),s=o,l=i(k,a,n);r=s,n=l;continue r;case 1:var u=r.a,o=r.b,c="["+(Y(u)+"]"),s=o,l=i(k,c,n);r=s,n=l;continue r;case 2:var m=r.a;if(m.b)if(m.b.b){var b=(function(){return n.b?"The Json.Decode.oneOf at json"+i(an,"",yr(n)):"Json.Decode.oneOf"})(),A=b+(" failed in the following "+(Y(Cn(m))+" ways:"));return i(an,`

`,i(k,A,i(m$,j$,m)))}else{var o=m.a,s=o,l=n;r=s,n=l;continue r}else return"Ran into a Json.Decode.oneOf with no possibilities"+(function(){return n.b?" at json"+i(an,"",yr(n)):"!"})();default:var j=r.a,g=r.b,A=(function(){return n.b?"Problem with the value at json"+(i(an,"",yr(n))+`:

    `):`Problem with the given value:

`})();return A+(ii(i(l$,4,g))+(`

`+j))}}),Sr=32,Ge=N(function(r,n,e,t){return{$:0,a:r,b:n,c:e,d:t}}),Ye=mu,de=Au,$i=f(function(r,n){return ua(n)/ua(r)}),ci=Su,Xe=de(i($i,2,Sr)),C$=U(Ge,0,Xe,Ye,Ye),vi=_u,M$=function(r){return{$:1,a:r}};f(function(r,n){return r(n)});f(function(r,n){return n(r)});var dt=Eu,ba=hu,un=f(function(r,n){return B(r,n)>0?r:n}),D$=function(r){return{$:0,a:r}},fi=du,S$=f(function(r,n){r:for(;;){var e=i(fi,Sr,r),t=e.a,a=e.b,u=i(k,D$(t),n);if(a.b){var o=a,c=u;r=o,n=c;continue r}else return yr(u)}}),A$=f(function(r,n){r:for(;;){var e=de(n/Sr);if(e===1)return i(fi,Sr,r).a;var t=i(S$,r,S),a=e;r=t,n=a;continue r}}),E$=f(function(r,n){if(n.l){var e=n.l*Sr,t=dt(i($i,Sr,e-1)),a=r?yr(n.o):n.o,u=i(A$,a,n.l);return U(Ge,ba(n.n)+e,i(un,5,t*Xe),u,n.n)}else return U(Ge,ba(n.n),Xe,Ye,n.n)}),T$=Ir(function(r,n,e,t,a){r:for(;;){if(n<0)return i(E$,!1,{o:t,l:e/Sr|0,n:a});var u=M$(p(vi,Sr,n,r)),o=r,c=n-Sr,s=e,l=i(k,u,t),m=a;r=o,n=c,e=s,t=l,a=m;continue r}}),J$=f(function(r,n){if(r<=0)return C$;var e=r%Sr,t=p(vi,e,r-e,n),a=r-e-Sr;return H(T$,n,a,r,S,t)}),Cr=function(r){return!r.$},Yn=ro,ge=no,ir=zu,gt=function(r){switch(r.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},Sn=function(r){return r},k$=Sn,ma=Qr(function(r,n,e,t,a,u){return{aK:u,aL:n,r:t,aU:e,aX:r,aY:a}}),_n=Ru,si=Bu,jt=Pu,Zn=f(function(r,n){return r<1?n:p(jt,r,si(n),n)}),je=Uu,An=function(r){return r===""},we=f(function(r,n){return r<1?"":p(jt,0,r,n)}),y$=qu,ha=Ir(function(r,n,e,t,a){if(An(a)||i(_n,"@",a))return w;var u=i(je,":",a);if(u.b){if(u.b.b)return w;var o=u.a,c=y$(i(Zn,o+1,a));if(c.$===1)return w;var s=c;return d(Xr(ma,r,i(we,o,a),s,n,e,t))}else return d(Xr(ma,r,a,w,n,e,t))}),_a=N(function(r,n,e,t){if(An(t))return w;var a=i(je,"/",t);if(a.b){var u=a.a;return H(ha,r,i(Zn,u,t),n,e,i(we,u,t))}else return H(ha,r,"/",n,e,t)}),da=M(function(r,n,e){if(An(e))return w;var t=i(je,"?",e);if(t.b){var a=t.a;return U(_a,r,d(i(Zn,a+1,e)),n,i(we,a,e))}else return U(_a,r,w,n,e)});f(function(r,n){if(An(n))return w;var e=i(je,"#",n);if(e.b){var t=e.a;return p(da,r,d(i(Zn,t+1,n)),i(we,t,n))}else return p(da,r,w,n)});var li=Hu,wt=function(r){},rn=Rr,B$=rn(0),pi=N(function(r,n,e,t){if(t.b){var a=t.a,u=t.b;if(u.b){var o=u.a,c=u.b;if(c.b){var s=c.a,l=c.b;if(l.b){var m=l.a,b=l.b,j=e>500?p(sr,r,n,yr(b)):U(pi,r,n,e+1,b);return i(r,a,i(r,o,i(r,s,i(r,m,j))))}else return i(r,a,i(r,o,i(r,s,n)))}else return i(r,a,i(r,o,n))}else return i(r,a,n)}else return n}),Qn=M(function(r,n,e){return U(pi,r,n,0,e)}),W=f(function(r,n){return p(Qn,f(function(e,t){return i(k,r(e),t)}),S,n)}),fn=Ue,Ce=f(function(r,n){return i(fn,function(e){return rn(r(e))},n)}),I$=M(function(r,n,e){return i(fn,function(t){return i(fn,function(a){return rn(i(r,t,a))},e)},n)}),ve=function(r){return p(Qn,I$(k),rn(S),r)},bi=wo,F$=f(function(r,n){var e=n;return La(i(fn,bi(r),e))}),P$=M(function(r,n,e){return i(Ce,function(t){return 0},ve(i(W,F$(r),n)))}),L$=M(function(r,n,e){return rn(0)}),V$=f(function(r,n){var e=n;return i(Ce,r,e)});cr.Task=xa(B$,P$,L$,V$);var x$=he("Task"),Ct=f(function(r,n){return x$(i(Ce,r,n))}),R$=i$,H$={V:w,af:w,N:!1,R:""},mi=Ra,T=mi(S),O$=function(r){return v({ar:"ClipForge",k:w,a:S,e:w,L:0,aM:w,Y:!1,y:!1,Z:H$,v:v(0,0),i:10,d:0,Q:!1,I:w,S:w,c:d(v(1,"Ready to import video")),am:800},T)},U$=function(r){return{$:1,a:r}},q$=function(r){return{$:23,a:r}},W$=function(r){return{$:29,a:r}},z$=function(r){return{$:33,a:r}},G$=function(r){return{$:15,a:r}},Y$=function(r){return{$:11,a:r}},X$=Ra,Kn=Zu,Z$=Dn("clipImported",Kn),mr=Xu,Q$=Dn("exportProgress",mr),Mt=Nu,O=Ku,Vr=Qu,Ze={$:17},hi={$:18},_i={$:19},K$={$:10},Qe={$:20},di={$:21},N$=Gu,rc=function(r){switch(r){case" ":return ir(K$);case"ArrowLeft":return ir(hi);case"ArrowRight":return ir(_i);case"+":return ir(Qe);case"=":return ir(Qe);case"-":return ir(di);case"Delete":return ir(Ze);case"Backspace":return ir(Ze);default:return N$("Unhandled key: "+r)}},nc=i(Mt,rc,i(O,"key",Vr)),ec=f(function(r,n){return{$:5,a:r,b:n}}),tc=p(ge,ec,i(O,"pageX",mr),i(O,"pageY",mr)),ac=f(function(r,n){return{$:6,a:r,b:n}}),ic=p(ge,ac,i(O,"pageX",mr),i(O,"pageY",mr)),gi=M(function(r,n,e){return{$:0,a:r,b:n,c:e}}),ji=f(function(r,n){return{aS:n,a1:r}}),Ke={$:-2},Dt=Ke,uc=rn(i(ji,S,Dt)),oc=function(r){return r?"w_":"d_"},$c=function(r){var n=r.a,e=r.b;return v(kr(oc(n),e),r)},_r=Ir(function(r,n,e,t,a){return{$:-1,a:r,b:n,c:e,d:t,e:a}}),ga=Ir(function(r,n,e,t,a){if(a.$===-1&&!a.a){a.a;var u=a.b,o=a.c,c=a.d,s=a.e;if(t.$===-1&&!t.a){t.a;var l=t.b,m=t.c,b=t.d,j=t.e;return H(_r,0,n,e,H(_r,1,l,m,b,j),H(_r,1,u,o,c,s))}else return H(_r,r,u,o,H(_r,0,n,e,t,c),s)}else if(t.$===-1&&!t.a&&t.d.$===-1&&!t.d.a){t.a;var l=t.b,m=t.c,g=t.d;g.a;var A=g.b,y=g.c,J=g.d,P=g.e,j=t.e;return H(_r,0,l,m,H(_r,1,A,y,J,P),H(_r,1,n,e,j,a))}else return H(_r,r,n,e,t,a)}),cc=su,Ne=M(function(r,n,e){if(e.$===-2)return H(_r,0,r,n,Ke,Ke);var t=e.a,a=e.b,u=e.c,o=e.d,c=e.e,s=i(cc,r,a);switch(s){case 0:return H(ga,t,a,u,p(Ne,r,n,o),c);case 1:return H(_r,t,a,n,o,c);default:return H(ga,t,a,u,o,p(Ne,r,n,c))}}),St=M(function(r,n,e){var t=p(Ne,r,n,e);if(t.$===-1&&!t.a){t.a;var a=t.b,u=t.c,o=t.d,c=t.e;return H(_r,1,a,u,o,c)}else{var s=t;return s}}),ja=function(r){return p(sr,f(function(n,e){var t=n.a,a=n.b;return p(St,t,a,e)}),Dt,r)},vc=mo,At=M(function(r,n,e){r:for(;;){if(e.$===-2)return n;var t=e.b,a=e.c,u=e.d,o=e.e,c=r,s=p(r,t,a,p(At,r,n,u)),l=o;r=c,n=s,e=l;continue r}}),fc=Qr(function(r,n,e,t,a,u){var o=M(function(m,b,j){r:for(;;){var g=j.a,A=j.b;if(g.b){var y=g.a,J=y.a,P=y.b,I=g.b;if(B(J,m)<0){var ar=m,Z=b,rr=v(I,p(r,J,P,A));m=ar,b=Z,j=rr;continue r}else return B(J,m)>0?v(g,p(e,m,b,A)):v(I,U(n,J,P,b,A))}else return v(g,p(e,m,b,A))}}),c=p(At,o,v(ze(t),u),a),s=c.a,l=c.b;return p(sr,f(function(m,b){var j=m.a,g=m.b;return p(r,j,g,b)}),l,s)}),sc=f(function(r,n){return{aJ:n,aO:r}}),lc=Co,pc=M(function(r,n,e){var t=e.a,a=e.b,u=(function(){return t?Ka:u$})();return i(Ce,function(o){return v(n,o)},p(o$,u,a,function(o){return i(lc,r,i(sc,n,o))}))}),bc=f(function(r,n){return p(At,St,n,r)}),mc=M(function(r,n,e){var t=M(function(b,j,g){var A=g.a,y=g.b,J=g.c;return zr(A,y,i(k,p(pc,r,b,j),J))}),a=M(function(b,j,g){var A=g.a,y=g.b,J=g.c;return zr(i(k,j,A),y,J)}),u=N(function(b,j,g,A){var y=A.a,J=A.b,P=A.c;return zr(y,p(St,b,j,J),P)}),o=i(W,$c,n),c=Xr(fc,a,u,t,e.aS,ja(o),zr(S,Dt,S)),s=c.a,l=c.b,m=c.c;return i(fn,function(b){return rn(i(ji,o,i(bc,l,ja(b))))},i(fn,function(b){return ve(m)},ve(i(W,vc,s))))}),hc=M(function(r,n,e){var t=r(n);if(t.$)return e;var a=t.a;return i(k,a,e)}),wi=f(function(r,n){return p(Qn,hc(r),S,n)}),_c=M(function(r,n,e){var t=n.aO,a=n.aJ,u=function(c){var s=c.a,l=c.b;l.a,l.b;var m=l.c;return V(s,t)?i($$,m,a):w},o=i(wi,u,e.a1);return i(fn,function(c){return rn(e)},ve(i(W,bi(r),o)))}),dc=f(function(r,n){var e=n.a,t=n.b,a=n.c;return p(gi,e,t,i(Yn,r,a))});cr["Browser.Events"]=xa(uc,mc,_c,0,dc);var gc=he("Browser.Events"),Et=M(function(r,n,e){return gc(p(gi,r,n,e))}),jc=i(Et,0,"keydown"),wc=i(Et,0,"mousemove"),Cc=i(Et,0,"mouseup"),Mc=Dn("recordingComplete",Kn),Dc=Dn("timelineDrop",Kn),Sc=Dn("trimComplete",Kn),Ac=Dn("videoTimeUpdate",mr),Ec=function(r){var n=(function(){var t=r.e;return t.$?S:$([wc(tc),Cc(ic)])})(),e=$([Z$(U$),Ac(Y$),Sc(G$),Q$(q$),Mc(W$),Dc(z$),jc(nc)]);return X$(kr(e,n))},Tc=f(function(r,n){return{$:0,a:r,b:n}}),Jc={$:1},Ci=function(r){return{$:3,a:r}},Mi=function(r){return{$:2,a:r}},Ie=function(r){return{$:7,a:r}},mn=M(function(r,n,e){return B(e,r)<0?r:B(e,n)>0?n:e}),fe=Yu,kc=ao,wa=i(Mt,function(r){return He(kc,at(function(n,e,t,a,u,o,c,s){return{ad:w,ae:w,f:r,p:t,ag:w,ah:w,X:u,b:n,r:e,aj:Y(a)+("x"+Y(u)),h:o,al:w,J:s,g:r,j:c,ab:a}}),i(O,"id",Vr),i(O,"path",Vr),i(O,"fileName",Vr),i(O,"width",fe),i(O,"height",fe),ir(0),ir(0),ir(0))},i(O,"duration",mr)),ae=ot,K=me,yc=Fr("deleteClip",K),Bc=f(function(r,n){return r<1?n:p(jt,0,-r,n)}),Ic=Ou,Fc=Fr("exportVideo",Sn),Q=f(function(r,n){return p(Qn,f(function(e,t){return r(e)?i(k,e,t):t}),S,n)}),nr=function(r){if(r.b){var n=r.a;return r.b,d(n)}else return w},Ca=M(function(r,n,e){var t=60,a=110,u=30,o=B(n,u)>-1&&B(n,u+t)<0?d(0):B(n,a)>-1&&B(n,a+t)<0?d(1):w,c=function(j){var g=(function(){if(o.$)return!1;var ar=o.a;return V(j.J,ar)})(),A=j.J?a:u,y=B(n,A)>-1&&B(n,A+t)<0,J=j.h*e.i,P=j.f*e.i,I=B(r,J)>-1&&B(r,J+P)<1;return I&&y&&g},s=nr(i(Q,c,yr(e.a)));if(s.$)return w;var l=s.a,m=l.h*e.i,b=r-m;return d(v(l,b))}),rt=function(r){return r<0?-r:r},Pc=M(function(r,n,e){var t=60,a=110,u=30,o=8,c=function(l){var m=l.J?a:u,b=B(n,m)>-1&&B(n,m+t)<0,j=l.h*e.i,g=j+l.g*e.i,A=B(rt(r-g),o)<0&&b,y=j+l.j*e.i,J=B(rt(r-y),o)<0&&b;return J?d(Mi(l.b)):A?d(Ci(l.b)):w},s=nr(i(wi,c,yr(e.a)));return s}),E=me,Lc=ku,Vc=function(r){return i(Lc,r,"")},Di=M(function(r,n,e){return r<=0?e:p(Di,r>>1,kr(n,n),r&1?kr(e,n):e)}),xc=f(function(r,n){return p(Di,r,n,"")}),Si=M(function(r,n,e){return kr(i(xc,r-si(e),Vc(n)),e)}),ur=Tu,R=function(r){var n=dt(r/60),e=ur(r)-n*60;return Y(n)+(":"+p(Si,2,"0",Y(e)))},fr=Pa,nt=function(r){if(r.b){var n=r.a,e=r.b;return d(p(sr,un,n,e))}else return w},Gr=f(function(r,n){if(n.$)return r;var e=n.a;return e}),$n=function(r){return i(Gr,0,nt(i(W,function(n){return n.h+n.f},r.a)))},Rc=me,br=function(r){return!r.b},Hc=M(function(r,n,e){var t=e.d*e.i,a=0,u=12,o=40;return B(rt(r-t),u)<0&&B(n,a)>-1&&B(n,o)<0}),Tt=f(function(r,n){return p(sr,vo(r),oo(),n)}),qn=f(function(r,n){if(n.$)return w;var e=n.a;return d(r(e))}),Wn=f(function(r,n){return B(r,n)<0?r:n}),zn=function(r){return p(sr,f(function(n,e){var t=n.a,a=n.b;return p(co,t,a,e)}),$o(),r)},Nn=fo,Fe=Fr("pauseVideo",function(r){return Nn}),Ma=Fr("playVideo",function(r){return Nn}),Da=wu,Oc=Fr("recordScreen",function(r){return Nn}),Uc=Fr("recordWebcam",Sn),qc=M(function(r,n,e){return i(an,n,i(ai,r,e))}),Wc=Fr("requestImport",function(r){return Nn}),tn=Fr("setVideoTime",E),Ai=.5,hn=function(r){var n=Ai,e=ur(r/n)*n;return e},zc=bu,Gc=Ju,Yc=Fr("stopRecording",function(r){return Nn}),Xc=i(O,"dropTime",mr),Zc=Fr("trimClip",Sn),Qc=Qr(function(r,n,e,t,a,u){return{f:t,p:e,X:u,b:r,r:n,ab:a}}),Kc=to,Nc=Fa(Kc,Qc,i(O,"id",Vr),i(O,"path",Vr),i(O,"fileName",Vr),i(O,"duration",mr),i(O,"width",fe),i(O,"height",fe)),rv=f(function(r,n){switch(r.$){case 0:return v(_(n,{N:!n.N}),w);case 1:var e=r.a;return v(_(n,{R:e}),w);case 2:var t=r.a;return v(_(n,{af:d(t)}),w);case 3:return v(_(n,{af:w}),w);case 4:var t=r.a;return v(_(n,{V:d(t)}),w);case 5:return v(_(n,{V:w}),w);case 6:var t=r.a;return v(_(n,{V:w}),d(t));default:return v(n,w)}}),nv=f(function(r,n){r:for(;;)switch(r.$){case 30:var e=r.a,t=r.b;return v(_(n,{c:d(v(e,t))}),T);case 31:return v(_(n,{c:w}),T);case 0:return v(_(n,{c:d(v(1,"Opening file picker..."))}),Wc(0));case 1:var In=r.a,a=i(ae,wa,In);if(a.$){var s=a.a;return v(_(n,{c:d(v(3,"Import failed: "+Un(s)))}),T)}else{var u=a.a,o=i(Gr,0,nt(i(W,function(q){return q.h+q.f},n.a))),c=_(u,{h:o});return v(_(n,{a:kr(n.a,$([c])),c:d(v(0,"Imported: "+c.p))}),T)}case 2:var Ur=r.a;return v(_(n,{d:p(mn,0,$n(n),Ur)}),tn(Ur));case 3:var De=r.a,Ur=De/n.i,l=hn(Ur);return v(_(n,{d:l}),tn(l));case 4:var m=r.a,b=r.b,j=p(Pc,m,b,n);n:for(;;){if(j.$)break n;switch(j.a.$){case 2:var F=j.a.a;return v(_(n,{k:d(v(m,b)),e:d(Mi(F)),c:d(v(1,"Adjusting trim start"))}),T);case 3:var F=j.a.a;return v(_(n,{k:d(v(m,b)),e:d(Ci(F)),c:d(v(1,"Adjusting trim end"))}),T);default:break n}}if(p(Hc,m,b,n))return v(_(n,{k:d(v(m,b)),e:d(Jc),c:d(v(1,"Dragging playhead"))}),T);var g=p(Ca,m,b,n);if(g.$){var Ur=m/n.i,l=hn(Ur);return v(_(n,{k:d(v(m,b)),d:l}),tn(l))}else{var A=g.a,c=A.a,y=A.b;return v(_(n,{k:d(v(m,b)),e:d(i(Tc,c.b,y)),c:d(v(1,"Dragging: "+c.p))}),T)}case 5:var J=r.a,P=r.b,I=n.e;if(I.$)return v(_(n,{v:v(J,P)}),T);switch(I.a.$){case 1:I.a;var ar=$n(n),Z=n.v,pr=Z.a;Z.b;var en=J-pr,hr=n.d+en/n.i,rr=hn(hr),lr=p(mn,0,ar,rr);return v(_(n,{v:v(J,P),d:lr}),tn(lr));case 0:var Hr=I.a,F=Hr.a,y=Hr.b,En=n.v,pr=En.a;En.b;var en=J-pr,jr=function(x){if(V(x.b,F)){var Fn=x.h+en/n.i,Pn=hn(Fn),Ln=i(un,0,Pn);return _(x,{h:Ln})}else return x};return v(_(n,{a:i(W,jr,n.a),v:v(J,P)}),T);case 2:var F=I.a.a,Or=nr(i(Q,function(x){return V(x.b,F)},n.a)),kn=(function(){if(Or.$)return d(v(1,"Adjusting trim start"));var x=Or.a;return d(v(1,"Trim: "+(R(x.j)+(" - "+R(x.g)))))})(),Pr=n.v,pr=Pr.a;Pr.b;var en=J-pr,jr=function(x){if(V(x.b,F)){var Fn=en/n.i,Pn=x.j+Fn,Ln=hn(Pn),ke=p(mn,0,x.g-.5,Ln);return _(x,{j:ke})}else return x};return v(_(n,{a:i(W,jr,n.a),v:v(J,P),c:kn}),T);default:var F=I.a.a,Or=nr(i(Q,function(x){return V(x.b,F)},n.a)),kn=(function(){if(Or.$)return d(v(1,"Adjusting trim end"));var x=Or.a;return d(v(1,"Trim: "+(R(x.j)+(" - "+R(x.g)))))})(),ln=n.v,pr=ln.a;ln.b;var en=J-pr,jr=function(x){if(V(x.b,F)){var Fn=en/n.i,Pn=x.g+Fn,Ln=hn(Pn),ke=p(mn,x.j+.5,x.f,Ln);return _(x,{g:ke})}else return x};return v(_(n,{a:i(W,jr,n.a),v:v(J,P),c:kn}),T)}case 6:var De=r.a,Hi=r.b,Lt=n.k;if(Lt.$){var bn=n.e;if(bn.$)return v(n,T);switch(bn.a.$){case 1:return bn.a,v(_(n,{e:w,c:d(v(1,"Playhead at "+R(n.d)))}),T);case 0:var Wi=bn.a,F=Wi.a,Gt=nr(i(Q,function(L){return V(L.b,F)},n.a));if(Gt.$)return v(_(n,{e:w}),T);var c=Gt.a;return v(_(n,{e:w,c:d(v(1,"Clip positioned at "+R(c.h)))}),T);case 2:var F=bn.a.a,Yt=nr(i(Q,function(L){return V(L.b,F)},n.a));if(Yt.$)return v(_(n,{e:w}),T);var c=Yt.a;return v(_(n,{e:w,c:d(v(1,"Trim set: "+(R(c.j)+(" - "+R(c.g)))))}),T);default:var F=bn.a.a,Xt=nr(i(Q,function(L){return V(L.b,F)},n.a));if(Xt.$)return v(_(n,{e:w}),T);var c=Xt.a;return v(_(n,{e:w,c:d(v(1,"Trim set: "+(R(c.j)+(" - "+R(c.g)))))}),T)}}else{var Vt=Lt.a,xt=Vt.a,Rt=Vt.b,Oi=Gc(i(Da,De-xt,2)+i(Da,Hi-Rt,2)),Ht=Oi<5,pn=n.e;if(pn.$)if(Ht){var b=Rt,m=xt,Wt=n.v,pr=Wt.a;Wt.b;var zt=p(Ca,m,b,n);if(zt.$){var Tn=Ie(w),Jn=_(n,{k:w});r=Tn,n=Jn;continue r}else{var qi=zt.a,c=qi.a,Tn=Ie(d(c.b)),Jn=_(n,{k:w});r=Tn,n=Jn;continue r}}else return v(_(n,{k:w}),T);else switch(pn.a.$){case 1:return pn.a,v(_(n,{k:w,e:w,c:d(v(1,"Playhead at "+R(n.d)))}),T);case 0:var Ui=pn.a,F=Ui.a;if(Ht){var Tn=Ie(d(F)),Jn=_(n,{k:w,e:w});r=Tn,n=Jn;continue r}else{var Ot=nr(i(Q,function(L){return V(L.b,F)},n.a));if(Ot.$)return v(_(n,{k:w,e:w}),T);var c=Ot.a;return v(_(n,{k:w,e:w,c:d(v(1,"Clip positioned at "+R(c.h)))}),T)}case 2:var F=pn.a.a,Ut=nr(i(Q,function(L){return V(L.b,F)},n.a));if(Ut.$)return v(_(n,{k:w,e:w}),T);var c=Ut.a;return v(_(n,{k:w,e:w,c:d(v(1,"Trim set: "+(R(c.j)+(" - "+R(c.g)))))}),T);default:var F=pn.a.a,qt=nr(i(Q,function(L){return V(L.b,F)},n.a));if(qt.$)return v(_(n,{k:w,e:w}),T);var c=qt.a;return v(_(n,{k:w,e:w,c:d(v(1,"Trim set: "+(R(c.j)+(" - "+R(c.g)))))}),T)}}case 7:var Se=r.a,kn=(function(){if(Se.$)return d(v(1,"No clip selected"));var q=Se.a,L=nr(i(Q,function(vr){return V(vr.b,q)},n.a));if(L.$)return w;var vu=L.a;return d(v(1,"Selected: "+vu.p))})();return v(_(n,{S:Se,c:kn}),T);case 8:return n.y?v(_(n,{y:!1}),Fe(0)):v(_(n,{y:!0}),Ma(0));case 9:return v(_(n,{y:!1}),Fe(0));case 10:return n.y?v(_(n,{y:!1}),Fe(0)):v(_(n,{y:!0}),Ma(0));case 11:var Ur=r.a;return v(_(n,{d:Ur}),T);case 12:var F=r.a,zi=r.b,jr=function(q){return V(q.b,F)?_(q,{j:p(mn,0,q.g,zi)}):q};return v(_(n,{a:i(W,jr,n.a)}),T);case 13:var F=r.a,Gi=r.b,jr=function(q){return V(q.b,F)?_(q,{g:p(mn,q.j,q.f,Gi)}):q};return v(_(n,{a:i(W,jr,n.a)}),T);case 14:var F=r.a,Zt=nr(i(Q,function(q){return V(q.b,F)},n.a));if(Zt.$)return v(n,T);var c=Zt.a,Qt=Y(ur(n.d*1e3)),Kt=i(li,"asset://localhost/",c.r)?i(Zn,18,c.r):c.r,Yi=(function(L){return i(Ic,".mp4",L)?i(Bc,4,L)+("_trimmed_"+(Qt+".mp4")):L+("_trimmed_"+(Qt+".mp4"))})(p(qc,"/clips/","/clips/edited/",Kt)),Xi=zn($([v("clipId",K(c.b)),v("inputPath",K(Kt)),v("outputPath",K(Yi)),v("startTime",E(c.j)),v("endTime",E(c.g))]));return v(_(n,{c:d(v(1,"Trimming clip: "+(c.p+(" ("+(R(c.j)+(" - "+(R(c.g)+")")))))))}),Zc(Xi));case 15:var In=r.a,Ae=i(ae,Nc,In);if(Ae.$){var s=Ae.a;return v(_(n,{c:d(v(3,"Trim processing failed: "+Un(s)))}),T)}else{var Er=Ae.a,jr=function(L){return V(L.b,Er.b)?_(L,{f:Er.f,p:Er.p,X:Er.X,r:Er.r,g:Er.f,j:0,ab:Er.ab}):L},Zi=nr(i(Q,function(L){return V(L.b,Er.b)},n.a));return Er.f,i(Gr,0,i(qn,function(L){return L.h},Zi)),v(_(n,{a:i(W,jr,n.a),c:d(v(0,"Trim complete: "+Er.p))}),T)}case 16:var F=r.a,Nt=nr(i(Q,function(q){return V(q.b,F)},n.a));if(Nt.$)return v(n,T);var c=Nt.a,Qi=c.h+c.f,Ki=B(n.d,c.h)>0&&B(n.d,Qi)<0;if(Ki){var yn=n.d-c.h,Ni=_(c,{f:c.f-yn,b:c.b+"_2",h:n.d,g:c.g-yn,j:i(un,0,c.j-yn)}),ru=_(c,{f:yn,b:c.b+"_1",g:i(Wn,c.g,yn)}),ne=i(zc,function(L){return L.h},(function(L){return kr(L,$([ru,Ni]))})(i(Q,function(L){return!V(L.b,F)},n.a)));return v(_(n,{a:ne,c:d(v(0,"Split clip at "+R(n.d)))}),T)}else return v(_(n,{c:d(v(2,"Playhead must be within clip bounds to split"))}),T);case 17:var ra=n.S;if(ra.$===1)return v(_(n,{c:d(v(2,"No clip selected to remove"))}),T);var F=ra.a,ne=i(Q,function(vr){return!V(vr.b,F)},n.a),nu=i(Q,function(vr){return B(n.d,vr.h)>-1&&B(n.d,vr.h+vr.f)<0},ne),hr=br(nu)&&!br(n.a)?0:n.d,eu=nr(i(Q,function(vr){return V(vr.b,F)},n.a)),tu=i(Gr,"Unknown",i(qn,function(vr){return vr.p},eu));return v(_(n,{a:ne,d:hr,S:w,c:d(v(0,"Removed clip: "+tu))}),tn(hr));case 18:var Ee=5,hr=i(un,0,n.d-Ee);return v(_(n,{d:hr,c:d(v(1,"Skipped back 5s (now at "+(R(hr)+")")))}),tn(hr));case 19:var au=$n(n),Ee=5,hr=i(Wn,au,n.d+Ee);return v(_(n,{d:hr,c:d(v(1,"Skipped forward 5s (now at "+(R(hr)+")")))}),tn(hr));case 20:var Bn=i(Wn,50,n.i*1.5);return v(_(n,{i:Bn,c:d(v(1,"Zoom: "+(fr((function(q){return q/10})(ur(Bn*10)))+"x")))}),T);case 21:var Bn=i(un,2,n.i/1.5);return v(_(n,{i:Bn,c:d(v(1,"Zoom: "+(fr((function(q){return q/10})(ur(Bn*10)))+"x")))}),T);case 22:var na=nr(n.a);if(na.$)return v(_(n,{c:d(v(2,"No clips to export"))}),T);var c=na.a,iu=zn($([v("inputs",i(Tt,K,$([c.r]))),v("output",K("output.mp4")),v("resolution",K("720p"))]));return v(_(n,{L:0,Y:!0,c:d(v(1,"Exporting to MP4..."))}),Fc(iu));case 23:var ea=r.a;return v(_(n,{L:ea,c:d(v(1,"Exporting: "+(Y(ur(ea))+"%")))}),T);case 24:return v(_(n,{L:100,Y:!1,c:d(v(0,"Export complete!"))}),T);case 25:return v(_(n,{Q:!n.Q}),T);case 26:var uu=zn($([v("output",K("webcam_"+(Y(Cn(n.a))+".mp4"))),v("duration",Rc(10))]));return v(_(n,{Q:!1,I:d(0),c:d(v(1,"Recording webcam..."))}),Uc(uu));case 27:return v(_(n,{Q:!1,I:d(1),c:d(v(1,"Recording screen..."))}),Oc(0));case 28:return v(_(n,{I:w}),mi($([Yc(0),T])));case 29:var In=r.a,Te=i(ae,wa,In);if(Te.$){var s=Te.a;return v(_(n,{I:w,c:d(v(3,"Recording failed: "+Un(s)))}),T)}else{var u=Te.a,o=i(Gr,0,nt(i(W,function(vr){return vr.h+vr.f},n.a))),c=_(u,{h:o});return v(_(n,{a:kr(n.a,$([c])),I:w,c:d(v(0,"Recording added: "+c.p))}),T)}case 32:var ou=r.a,ta=i(rv,ou,n.Z),aa=ta.a,ia=ta.b;if(ia.$)return v(_(n,{Z:aa}),T);var F=ia.a;return v(_(n,{a:i(Q,function(L){return!V(L.b,F)},n.a),Z:aa}),yc(F));case 33:var $u=r.a,Je=i(ae,Xc,$u);if(Je.$){var s=Je.a;return v(_(n,{c:d(v(3,"Drop failed: "+Un(s)))}),T)}else{var cu=Je.a;return v(_(n,{c:d(v(1,"Drop detected at "+(R(cu)+" - JavaScript integration needed")))}),T)}default:return v(n,T)}}),nn=f(function(r,n){return i(st,r,K(n))}),h=nn("className"),D=gr("div"),Jt=gr("h2"),ev=qe,C=ev,tv=function(r){return i(D,$([h("bg-gray-800 border-b border-gray-700 px-6 py-4")]),$([i(D,$([h("flex items-center justify-between")]),$([i(Jt,$([h("text-2xl font-bold text-blue-400")]),$([C(r.ar)]))]))]))},av=function(r){return{$:32,a:r}},iv=function(r){return{ad:r.ad,ae:r.ae,f:r.f,p:r.p,ag:r.ag,ah:r.ah,b:r.b,r:r.r,aj:r.aj,al:r.al}},uv=Io,ov=uv,Sa=function(r){return{$:1,a:r}},$v={$:0},G=gr("button"),cv=M(function(r,n,e){return r(n(e))}),Pe=M(function(r,n,e){return n(r(e))}),Ei=function(r){return r<1024?Y(r)+" B":B(r,1024*1024)<0?fr(ur(r/1024*10)/10)+" KB":B(r,1024*1024*1024)<0?fr(ur(r/(1024*1024)*10)/10)+" MB":fr(ur(r/(1024*1024*1024)*100)/100)+" GB"},Vn=Vu,Aa=f(function(r,n){if(An(r))return n;var e=Vn(r);return i(Q,function(t){return i(_n,e,Vn(t.p))||i(Gr,!1,i(qn,i(cv,_n(e),Vn),t.ae))||i(_n,e,Vn(t.aj))||i(Gr,!1,i(qn,i(Pe,i(Pe,Ei,Vn),_n(e)),t.ag))||i(Gr,!1,i(qn,i(Pe,fr,_n(e)),t.ah))},n)}),vv=gr("h3"),fv=gr("input"),sv=function(r){return{$:0,a:r}},Ti=Oa,Xn=f(function(r,n){return i(Ti,r,sv(n))}),z=function(r){return i(Xn,"click",ir(r))},lv=function(r){return v(r,!0)},pv=function(r){return{$:1,a:r}},bv=f(function(r,n){return i(Ti,r,pv(n))}),mv=f(function(r,n){return p(Qn,O,n,r)}),hv=i(mv,$(["target","value"]),Vr),_v=function(r){return i(bv,"input",i(Yn,lv,i(Yn,r,hv)))},dv=nn("placeholder"),gv=Fo,wn=gv,jv=nn("type"),wv=nn("value"),Cv={$:5},Mv=function(r){return{$:4,a:r}},Dv=function(r){return{$:6,a:r}},Sv=function(r){return{$:7,a:r}},Ea=function(r){return{$:2,a:r}},Av=nn("alt"),Ev=f(function(r,n){return i(_e,xo(r),qa(n))}),se=Ev,Tv=function(r){return r<1e3?Y(r)+" bps":r<1e6?fr(ur(r/1e3*10)/10)+" kbps":fr(ur(r/1e6*10)/10)+" Mbps"},Ta=function(r){var n=dt(r/60),e=ur(r-n*60);return Y(n)+(":"+p(Si,2,"0",Y(e)))},Ji=gr("img"),Lr=gr("span"),kt=function(r){return i(nn,"src",qa(r))},Jv=Lu,kv=M(function(r,n,e){return i(D,$([h("bg-gray-700 rounded mb-2 overflow-hidden hover:bg-gray-600 transition-colors")]),$([i(D,$([h("p-3 cursor-pointer"),z(Ea(e.b)),i(se,"draggable","true"),i(Xn,"dragstart",ir(Sv(e)))]),$([i(D,$([h("flex items-center space-x-3")]),$([(function(){var t=e.al;if(t.$)return i(D,$([h("w-12 h-12 bg-gray-600 rounded flex items-center justify-center text-gray-400 text-xs")]),$([C("🎥")]));var a=t.a;return i(Ji,$([kt("asset://localhost/"+a),h("w-12 h-12 object-cover rounded border border-gray-600"),Av("thumbnail")]),S)})(),i(D,$([h("flex-1 min-w-0")]),$([i(D,$([h("text-sm text-white font-medium truncate")]),$([C(e.p)])),i(D,$([h("text-xs text-gray-400 flex items-center space-x-2")]),$([i(Lr,S,$([C(Ta(e.f))])),i(Lr,S,$([C("•")])),i(Lr,S,$([C(e.aj)])),(function(){var t=e.ag;if(t.$)return C("");var a=t.a;return i(Lr,S,$([C("• "+Ei(a))]))})()]))]))]))])),V(r,d(e.b))?i(D,$([h("px-3 pb-3 border-t border-gray-600")]),$([i(D,$([h("grid grid-cols-2 gap-2 text-xs mt-2")]),$([(function(){var t=e.ae;if(t.$)return C("");var a=t.a;return i(D,S,$([i(D,$([h("text-gray-500")]),$([C("Codec")])),i(D,$([h("text-gray-300 font-mono")]),$([C(Jv(a))]))]))})(),(function(){var t=e.ah;if(t.$)return C("");var a=t.a;return i(D,S,$([i(D,$([h("text-gray-500")]),$([C("Frame Rate")])),i(D,$([h("text-gray-300")]),$([C(fr(a)+" fps")]))]))})(),(function(){var t=e.ad;if(t.$)return C("");var a=t.a;return i(D,S,$([i(D,$([h("text-gray-500")]),$([C("Bit Rate")])),i(D,$([h("text-gray-300")]),$([C(Tv(a))]))]))})(),i(D,S,$([i(D,$([h("text-gray-500")]),$([C("Duration")])),i(D,$([h("text-gray-300")]),$([C(Ta(e.f))]))]))])),i(D,$([h("flex gap-1 mt-3 border-t border-gray-600 pt-2")]),$([i(G,$([h("flex-1 py-1.5 px-2 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors"),z(Ea(e.b))]),$([C("More")])),i(G,$([h("py-1.5 px-3 text-xs text-red-400 hover:text-red-300 hover:bg-gray-600 rounded transition-colors"),z(Mv(e.b))]),$([C("🗑️ Delete")]))]))])):C(""),(function(){if(n.$)return C("");var t=n.a;return V(t,e.b)?i(D,$([h("p-3 bg-red-900 border-t border-red-700")]),$([i(D,$([h("text-sm text-white mb-2")]),$([C('Delete "'+(e.p+'"?'))])),i(D,$([h("flex gap-2")]),$([i(G,$([h("flex-1 py-1 px-2 text-xs bg-red-600 hover:bg-red-700 text-white rounded"),z(Dv(e.b))]),$([C("Delete")])),i(G,$([h("flex-1 py-1 px-2 text-xs bg-gray-600 hover:bg-gray-500 text-white rounded"),z(Cv)]),$([C("Cancel")]))]))])):C("")})()]))}),yv=f(function(r,n){return i(D,$([h("bg-gray-800 border-l border-gray-700 flex flex-col transition-all duration-300"),i(wn,"width",n.N?"48px":"320px")]),$([i(D,$([h("p-4 border-b border-gray-700 flex items-center justify-between")]),$([i(vv,$([h("text-sm font-semibold text-gray-300")]),$([C("Media Library")])),i(G,$([z($v),h("text-gray-400 hover:text-white transition-colors")]),$([C(n.N?"▶":"◀")]))])),n.N?C(""):i(D,$([h("flex-1 overflow-y-auto")]),$([i(D,$([h("p-4 border-b border-gray-700")]),$([i(D,$([h("relative")]),$([i(fv,$([jv("text"),dv("Search by name, codec..."),wv(n.R),_v(Sa),h("w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 pl-9 text-white text-sm focus:border-blue-500 focus:outline-none")]),S),i(D,$([h("absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400")]),$([C("🔍")])),An(n.R)?C(""):i(G,$([z(Sa("")),h("absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white")]),$([C("✕")]))]))])),i(D,$([h("px-4 py-2 text-xs text-gray-500")]),$([C(Y(Cn(i(Aa,n.R,r)))+(" of "+Y(Cn(r))))])),i(D,$([h("p-2")]),i(W,i(kv,n.af,n.V),i(Aa,n.R,r)))]))]))}),Bv={$:22},Iv={$:0},ki=me,Fv=f(function(r,n){return i(st,r,ki(n))}),Jr=Fv("disabled"),Pv={$:28},Lv={$:27},Vv={$:26},xv={$:25},Rv=function(r){return i(D,$([h("relative inline-block")]),$([i(G,$([h("bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 flex items-center gap-2"),z(xv)]),$([C("🎥 Record"),i(Lr,$([h("text-xs")]),$([C("▼")]))])),r.Q?i(D,$([h("absolute top-full left-0 mt-1 bg-gray-700 rounded-lg shadow-lg z-10 min-w-full overflow-hidden")]),$([i(G,$([h("w-full text-left px-4 py-2 hover:bg-gray-600 text-white flex items-center gap-2 transition-colors duration-200"),z(Vv)]),$([C("📹 Webcam")])),i(G,$([h("w-full text-left px-4 py-2 hover:bg-gray-600 text-white flex items-center gap-2 transition-colors duration-200"),z(Lv)]),$([C("🖥️ Screen")]))])):C("")]))},Hv=function(r){var n=r.I;if(n.$===1)return Rv(r);var e=n.a,t=(function(){return e?"Screen":"Webcam"})();return i(G,$([z(Pv),h("bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200 flex items-center gap-2")]),$([C("⏹ Stop "+(t+" Recording"))]))},Ov=function(r){return i(D,$([h("bg-gray-800 border-b border-gray-700 px-6 py-4")]),$([i(D,$([h("flex items-center gap-4 flex-wrap")]),$([i(G,$([h("bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors duration-200 flex items-center gap-2"),z(Iv)]),$([C("📁 Import Video")])),i(G,$([h("bg-purple-600 hover:bg-purple-700 text-white font-semibold py-2 px-6 rounded-lg transition-colors duration-200 flex items-center gap-2"),z(Bv),Jr(br(r.a)||r.Y)]),$([C("💾 Export MP4 (720p)")])),Hv(r),br(r.a)?C(""):i(Lr,$([h("text-sm text-green-400")]),$([C("("+(Y(Cn(r.a))+" clips imported)"))]))])),r.Y?i(D,$([h("mt-4")]),$([i(D,$([h("flex items-center gap-3")]),$([i(D,$([h("flex-1 bg-gray-700 rounded-full h-4 overflow-hidden")]),$([i(D,$([h("bg-purple-500 h-full transition-all duration-300"),i(wn,"width",fr(r.L)+"%")]),S)])),i(Lr,$([h("text-sm text-gray-300 font-semibold min-w-[4rem] text-right")]),$([C(Y(ur(r.L))+"%")]))]))])):C("")]))},Ja={$:34},Uv={$:8},qv=function(r){return{$:2,a:r}},Wv=function(r){return{$:16,a:r}},zv=function(r){return{$:14,a:r}},Gv=nn("id"),dn=gr("p"),Yv=gr("video"),Xv=function(r){var n=nr(i(Q,function(e){return B(r.d,e.h)>-1&&B(r.d,e.h+e.f)<0},r.a));return i(D,$([h("w-96 bg-gray-800 border-l border-gray-700 p-6 flex flex-col")]),$([i(Jt,$([h("text-lg font-semibold text-gray-300 mb-4")]),$([C("Preview")])),i(D,$([h("bg-black rounded-lg aspect-video flex items-center justify-center border border-gray-700 overflow-hidden")]),$([(function(){if(n.$)return i(dn,$([h("text-gray-500 text-center px-4")]),$([C("Video preview will display here")]));var e=n.a,t=i(li,"asset://localhost/",e.r)?e.r:"asset://localhost/"+e.r;return i(Yv,$([kt(t),Gv("video-player"),h("w-full h-full object-contain"),i(se,"crossorigin","anonymous"),i(se,"key",e.b)]),S)})()])),i(D,$([h("mt-4 space-y-2")]),$([i(D,$([h("flex gap-2")]),$([i(G,$([h("bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded transition-colors duration-200"),z(Uv),Jr(br(r.a))]),$([C(r.y?"⏸ Pause":"▶ Play")])),i(G,$([h("bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-3 rounded transition-colors duration-200"),z(hi),Jr(br(r.a)||r.d<=0)]),$([C("◀◀ -5s")])),i(G,$([h("bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-3 rounded transition-colors duration-200"),z(_i),Jr(br(r.a)||B(r.d,$n(r))>-1)]),$([C("+5s ▶▶")])),i(G,$([h("bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded transition-colors duration-200"),z(qv(0)),Jr(br(r.a))]),$([C("⏮ Reset")]))])),i(D,$([h("flex gap-2")]),$([i(G,$([h("bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded transition-colors duration-200"),z((function(){var e=nr(r.a);if(e.$)return Ja;var t=e.a;return zv(t.b)})()),Jr(br(r.a))]),$([C("✂ Trim Clip")])),i(G,$([h("bg-yellow-600 hover:bg-yellow-700 text-white font-semibold py-2 px-4 rounded transition-colors duration-200"),z((function(){var e=nr(r.a);if(e.$)return Ja;var t=e.a;return Wv(t.b)})()),Jr(br(r.a))]),$([C("✂️ Split at Playhead")]))])),i(D,$([h("flex gap-2")]),$([i(G,$([h("bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"),z(Ze),Jr(V(r.S,w))]),$([C("🗑️ Remove Clip")]))])),(function(){if(n.$)return i(dn,$([h("text-sm text-gray-400")]),$([C("No video at playhead")]));var e=n.a;return i(D,S,$([i(dn,$([h("text-sm text-gray-400")]),$([C(e.p)])),i(dn,$([h("text-xs text-gray-500")]),$([C(Y(e.ab)+("x"+(Y(e.X)+(" • "+R(e.f)))))])),e.j>0||B(e.g,e.f)<0?i(dn,$([h("text-xs text-blue-400 mt-1")]),$([C("Trim: "+(R(e.j)+(" - "+R(e.g))))])):C("")]))})()]))]))},Zv=f(function(r,n){return{$:4,a:r,b:n}}),Qv=function(r){return p(ge,Zv,i(O,"offsetX",mr),i(O,"offsetY",mr))},yi=function(r){return{$:1,a:r}},Bi=function(r){return{$:2,a:r}},Wr=function(r){return Bi(yi(r))},Kv=function(r){return{$:4,a:r}},yt={$:0},xn=f(function(r,n){return{$:3,a:r,b:n}}),Ii=function(r){return{$:2,a:r}},Fi=f(function(r,n){var e=v(r,n);r:for(;;)switch(e.b.$){case 3:var t=e.b,a=t.a,u=t.b;return i(xn,a,u);case 1:switch(e.a.$){case 1:var a=e.b.a;return yi(a);case 2:var o=e.a.a,s=e.b.a;return i(xn,s,o);case 3:var c=e.a,u=c.b,s=e.b.a;return i(xn,s,u);default:break r}case 2:switch(e.a.$){case 2:var a=e.b.a;return Ii(a);case 1:var o=e.a.a,s=e.b.a;return i(xn,o,s);case 3:var l=e.a,a=l.a,m=e.b.a;return i(xn,a,m);default:break r}default:if(e.a.$){var b=e.a;return e.b,b}else break r}e.a;var b=e.b;return b}),Pi=f(function(r,n){var e=f(function(t,a){var u=a;switch(t.$){case 0:var o=t.a;return _(u,{x:i(k,o,u.x)});case 1:var c=t.a;return _(u,{x:p(sr,k,u.x,c)});case 3:var s=t.a;return _(u,{F:s(u.F)});default:var l=t.a;return _(u,{E:i(Fi,u.E,l)})}});return p(sr,e,n,r)}),re=f(function(r,n){return i(Pi,r,{x:S,E:yt,F:Kv(n)})}),Nv=M(function(r,n,e){return{$:0,a:r,b:n,c:e}}),Tr=M(function(r,n,e){return p(Nv,r,n,e)}),rf=function(r){return{$:0,a:r}},Bt=f(function(r,n){return zn($([v("type",K("field")),v("name",K(r)),v("value",n)]))}),nf=function(r){return i(Bt,"lineWidth",E(r))},cn=function(r){return rf(nf(r))},Li=N(function(r,n,e,t){return{$:0,a:r,b:n,c:e,d:t}}),X=M(function(r,n,e){return U(Li,r,n,e,1)}),et=N(function(r,n,e,t){return U(Li,r,n,e,t)}),ef=function(r){return{$:1,a:r}},tr=f(function(r,n){return i(Pi,r,{x:S,E:yt,F:ef(n)})}),vn=function(r){return Bi(Ii(r))},tf=tt(function(r,n,e,t,a,u,o){var c=o.h*r,s=o.f*r,l=c+o.j*r,m=c+o.g*r,b=o.J?e:n,j=(function(){if(!a.$&&a.a.$===2){var lr=a.a.a;return V(o.b,lr)}else return!1})(),g=j?p(X,.3,1,.4):p(X,.2,.8,.3),A=(function(){if(!a.$&&a.a.$===3){var lr=a.a.a;return V(o.b,lr)}else return!1})(),y=A?p(X,.3,1,.4):p(X,.2,.8,.3),J=V(u,d(o.b)),P=(function(){if(a.$)return!1;switch(a.a.$){case 0:var lr=a.a,Hr=lr.a;return V(o.b,Hr);case 1:return a.a,!1;case 2:return!1;default:return!1}})(),I=8,ar=o.J?P?p(X,.7,.4,.9):p(X,.6,.3,.8):P?p(X,.4,.6,.9):p(X,.3,.5,.8),Z=J?p(X,0,.6,1):o.J?P?p(X,.9,.6,1):p(X,.7,.4,.9):P?p(X,.5,.8,1):p(X,.4,.6,.9),rr=J?3.5:1;return i(re,S,$([i(tr,$([Wr(ar)]),$([p(Tr,v(c,b),s,t)])),i(tr,$([vn(Z),cn(rr)]),$([p(Tr,v(c,b),s,t)])),o.j>0?i(tr,$([Wr(U(et,.1,.1,.1,.6))]),$([p(Tr,v(c,b),o.j*r,t)])):i(tr,S,S),B(o.g,o.f)<0?i(tr,$([Wr(U(et,.1,.1,.1,.6))]),$([p(Tr,v(m,b),(o.f-o.g)*r,t)])):i(tr,S,S),i(tr,$([Wr(g)]),$([p(Tr,v(l-I/2,b),I,t)])),i(tr,$([vn(p(X,1,1,1)),cn(1)]),$([p(Tr,v(l-I/2,b),I,t)])),i(tr,$([Wr(y)]),$([p(Tr,v(m-I/2,b),I,t)])),i(tr,$([vn(p(X,1,1,1)),cn(1)]),$([p(Tr,v(m-I/2,b),I,t)]))]))}),af=function(r){return{$:2,a:r}},It=function(r){return af(r)},uf=f(function(r,n){return{$:2,a:r,b:n}}),Ft=f(function(r,n){return i(uf,r,n)}),of=M(function(r,n,e){var t=e*r;return i(tr,$([vn(U(et,.3,.3,.35,.3)),cn(1)]),$([i(Ft,v(t,0),$([It(v(t,n))]))]))}),$f=M(function(r,n,e){var t=200,a=Ai,u=i(Wn,t,de(n/a)),o=i(W,i(of,r,e),i(W,function(c){return c*a},i(W,ci,i(ht,0,u))));return i(re,S,o)}),cf=f(function(r,n){return{$:1,a:r,b:n}}),ka=f(function(r,n){return i(cf,r,n)}),vf=M(function(r,n,e){var t=r*n,a=20,u=6;return i(re,S,$([i(tr,$([vn(p(X,1,.2,.2)),cn(2)]),$([i(Ft,v(t,0),$([It(v(t,e))]))])),i(tr,$([Wr(p(X,1,.2,.2))]),$([i(ka,v(t,a),u)])),i(tr,$([vn(p(X,1,1,1)),cn(1.5)]),$([i(ka,v(t,a),u)]))]))}),ff=M(function(r,n,e){var t=e*r;return i(tr,$([vn(p(X,.4,.4,.4)),cn(1)]),$([i(Ft,v(t,n-10),$([It(v(t,n))]))]))}),sf=M(function(r,n,e){var t=100,a=5,u=i(Wn,t,de(n/a)),o=i(W,i(ff,r,e),i(W,function(c){return c*a},i(W,ci,i(ht,0,u))));return i(re,S,o)}),lf=f(function(r,n){var e=60,t=110,a=30;return $([p($f,r.i,$n(r),n),i(tr,$([Wr(p(X,.1,.1,.12))]),$([p(Tr,v(0,a),r.am,e)])),i(tr,$([Wr(p(X,.08,.08,.1))]),$([p(Tr,v(0,t),r.am,e)])),i(re,S,i(W,Xr(tf,r.i,a,t,e,r.e,r.S),r.a)),p(vf,r.d,r.i,n),p(sf,r.i,$n(r),a)])}),pf=gr("canvas"),bf=i(pf,S,S),mf=f(function(r,n){return i(st,Ro(r),Ho(n))}),hf=mf,_f=function(r){return i(hf,"cmds",i(Tt,Sn,r))},df=function(r){return i(_e,"height",Y(r))},gf=function(r){return Bo(Vo(r))},jf=gf,wf=S,er=f(function(r,n){return zn($([v("type",K("function")),v("name",K(r)),v("args",i(Tt,Sn,n))]))}),Cf=i(er,"beginPath",S),Mf=function(r){return i(an,"",r)},Vi=function(r){var n=r.a,e=r.b,t=r.c,a=r.d,u=function(c){return ur(c*1e3)/1e3},o=function(c){return ur(c*1e4)/100};return Mf($(["rgba(",fr(o(n)),"%,",fr(o(e)),"%,",fr(o(t)),"%,",fr(u(a)),")"]))},le=function(r){return i(Bt,"fillStyle",K(Vi(r)))},Df=N(function(r,n,e,t){return i(er,"clearRect",$([E(r),E(n),E(e),E(t)]))}),Sf=N(function(r,n,e,t){var a=r.a,u=r.b;return i(k,U(Df,a,u,n,e),t)}),xi=Qr(function(r,n,e,t,a,u){return i(er,"arc",$([E(r),E(n),E(e),E(t),E(a),ki(u)]))}),Af=Cu,Ef=M(function(r,n,e){return Xr(xi,r,n,e,0,2*Af,!1)}),ya=Mu,gn=f(function(r,n){return i(er,"moveTo",$([E(r),E(n)]))}),Tf=N(function(r,n,e,t){return i(er,"rect",$([E(r),E(n),E(e),E(t)]))}),Jf=Ir(function(r,n,e,t,a){return i(er,"arcTo",$([E(r),E(n),E(e),E(t),E(a)]))}),kf=Qr(function(r,n,e,t,a,u){return i(er,"bezierCurveTo",$([E(r),E(n),E(e),E(t),E(a),E(u)]))}),yf=f(function(r,n){return i(er,"lineTo",$([E(r),E(n)]))}),Bf=N(function(r,n,e,t){return i(er,"quadraticCurveTo",$([E(r),E(n),E(e),E(t)]))}),If=f(function(r,n){switch(r.$){case 0:var e=r.a,Z=e.a,rr=e.b,t=r.b,a=t.a,u=t.b,o=r.c;return i(k,H(Jf,Z,rr,a,u,o),n);case 1:var c=r.a,s=c.a,l=c.b,m=r.b,b=m.a,j=m.b,g=r.c,Z=g.a,rr=g.b;return i(k,Xr(kf,s,l,b,j,Z,rr),n);case 2:var A=r.a,Z=A.a,rr=A.b;return i(k,i(yf,Z,rr),n);case 3:var y=r.a,Z=y.a,rr=y.b;return i(k,i(gn,Z,rr),n);default:var J=r.a,P=J.a,I=J.b,ar=r.b,Z=ar.a,rr=ar.b;return i(k,U(Bf,P,I,Z,rr),n)}}),Ba=Du,Ff=f(function(r,n){switch(r.$){case 0:var e=r.a,m=e.a,b=e.b,t=r.b,a=r.c;return i(k,U(Tf,m,b,t,a),i(k,i(gn,m,b),n));case 1:var u=r.a,m=u.a,b=u.b,o=r.b;return i(k,p(Ef,m,b,o),i(k,i(gn,m+o,b),n));case 2:var c=r.a,m=c.a,b=c.b,s=r.b;return p(sr,If,i(k,i(gn,m,b),n),s);default:var l=r.a,m=l.a,b=l.b,j=r.b,g=r.c,A=r.d,y=r.e;return i(k,i(gn,m+j*ya(A),b+j*Ba(A)),i(k,Xr(xi,m,b,j,g,A,y),i(k,i(gn,m+j*ya(g),b+j*Ba(g)),n)))}}),Pf=function(r){return"nonzero"},Lf=function(r){return i(er,"fill",$([K(Pf())]))},Le=f(function(r,n){return i(k,Lf(),(function(){if(r.$)return n;var e=r.a;return i(k,le(e),n)})())}),Vf=i(er,"stroke",S),pe=function(r){return i(Bt,"strokeStyle",K(Vi(r)))},Ve=f(function(r,n){return i(k,Vf,(function(){if(r.$)return n;var e=r.a;return i(k,pe(e),n)})())}),xf=f(function(r,n){switch(r.$){case 0:return i(Ve,w,i(Le,w,n));case 1:var e=r.a;return i(Le,d(e),n);case 2:var e=r.a;return i(Ve,d(e),n);default:var t=r.a,a=r.b;return i(Ve,d(a),i(Le,d(t),n))}}),Rf=N(function(r,n,e,t){if(t.$===1)return i(er,"fillText",$([K(r),E(n),E(e)]));var a=t.a;return i(er,"fillText",$([K(r),E(n),E(e),E(a)]))}),xe=Ir(function(r,n,e,t,a){return i(k,U(Rf,r.aC,n,e,r.au),(function(){if(t.$)return a;var u=t.a;return i(k,le(u),a)})())}),Hf=N(function(r,n,e,t){if(t.$===1)return i(er,"strokeText",$([K(r),E(n),E(e)]));var a=t.a;return i(er,"strokeText",$([K(r),E(n),E(e),E(a)]))}),Re=Ir(function(r,n,e,t,a){return i(k,U(Hf,r.aC,n,e,r.au),(function(){if(t.$)return a;var u=t.a;return i(k,pe(u),a)})())}),Of=M(function(r,n,e){var t=n.aT,a=t.a,u=t.b;switch(r.$){case 0:return H(Re,n,a,u,w,H(xe,n,a,u,w,e));case 1:var o=r.a;return H(xe,n,a,u,d(o),e);case 2:var o=r.a;return H(Re,n,a,u,d(o),e);default:var c=r.a,s=r.b;return H(Re,n,a,u,d(s),H(xe,n,a,u,d(c),e))}}),Uf=M(function(r,n,e){return p(Of,r,n,e)}),Ia=it(function(r,n,e,t,a,u,o,c,s){return i(er,"drawImage",$([s,E(r),E(n),E(e),E(t),E(a),E(u),E(o),E(c)]))}),qf=N(function(r,n,e,t){return i(k,(function(){if(e.$){var u=e.a,a=e.b;return He(Ia,u.a5,u.a6,u.ab,u.X,r,n,u.ab,u.X,a.aq)}else{var a=e.a;return He(Ia,0,0,a.ab,a.X,r,n,a.ab,a.X,a.aq)}})(),t)}),Wf=M(function(r,n,e){var t=r.a,a=r.b;return U(qf,t,a,n,e)}),zf=i(er,"restore",S),Gf=i(er,"save",S),Yf=M(function(r,n,e){switch(r.$){case 0:var t=r.a;return p(Uf,n,t,e);case 1:var a=r.a;return i(xf,n,p(sr,Ff,i(k,Cf,e),a));case 2:var o=r.a,u=r.b;return p(Wf,o,u,e);case 3:var o=r.a,c=r.b,s=r.c;return U(Sf,o,c,s,e);default:var l=r.a;return p(Xf,n,l,e)}}),Xf=M(function(r,n,e){var t=(function(){switch(r.$){case 0:return e;case 1:var a=r.a;return i(k,le(a),e);case 2:var a=r.a;return i(k,pe(a),e);default:var u=r.a,o=r.b;return i(k,le(u),i(k,pe(o),e))}})();return p(sr,Ri(r),t,n)}),Ri=M(function(r,n,e){var t=n.x,a=n.F,u=n.E;return i(k,zf,p(Yf,a,i(Fi,r,u),kr(t,i(k,Gf,e))))}),Zf=function(r){return p(sr,Ri(yt),wf,r)},Qf=function(r){return{$:0,a:r}},Kf=eo,Nf=i(Mt,function(r){return U(Kf,M(function(n,e,t){return n==="IMG"?d(Qf({X:t,aq:r,ab:e})):w}),i(O,"tagName",Vr),i(O,"width",mr),i(O,"height",mr))},Kn),rs=i(O,"target",Nf),ns=function(r){var n=r.a,e=r.b;return v(n,i(Ji,$([kt(n),i(se,"crossorigin","anonymous"),i(wn,"display","none"),i(Xn,"load",i(Yn,e,rs)),i(Xn,"error",ir(e(w)))]),S))},es=function(r){return i(_e,"width",Y(r))},ts=M(function(r,n,e){return p(jf,"elm-canvas",i(k,_f(Zf(e)),i(k,df(r.X),i(k,es(r.ab),n))),i(k,v("__canvas",bf),i(W,ns,r.a3)))}),as=M(function(r,n,e){var t=r.a,a=r.b;return p(ts,{X:a,a3:S,ab:t},n,e)}),is=function(r){var n=$n(r),e=i(un,r.am,n*r.i+100),t=200;return i(D,$([h("bg-gray-900 rounded overflow-x-auto"),i(wn,"max-width","100%")]),$([p(as,v(ur(e),t),$([i(wn,"display","block"),i(wn,"cursor",(function(){var a=r.e;if(a.$)return"pointer";switch(a.a.$){case 1:return a.a,"grabbing";case 0:return a.a,"grabbing";case 2:return"ew-resize";default:return"ew-resize"}})()),i(Xn,"mousedown",Qv())]),i(lf,r,t)),i(D,$([h("mt-2 text-xs text-gray-500 flex justify-between")]),$([C("Playhead: "+R(r.d)),C("Duration: "+R(n))]))]))},us=function(r){return i(D,$([h("flex-1 bg-gray-850 p-6 overflow-auto")]),$([i(D,$([h("bg-gray-800 rounded-lg p-8 border border-gray-700 min-h-full")]),$([i(D,$([h("flex items-center justify-between mb-4")]),$([i(Jt,$([h("text-lg font-semibold text-gray-300")]),$([C("Timeline")])),i(D,$([h("flex gap-2")]),$([i(G,$([h("bg-gray-700 hover:bg-gray-600 text-white font-semibold py-1 px-3 rounded transition-colors duration-200"),z(di),Jr(br(r.a))]),$([C("➖ Zoom Out")])),i(G,$([h("bg-gray-700 hover:bg-gray-600 text-white font-semibold py-1 px-3 rounded transition-colors duration-200"),z(Qe),Jr(br(r.a))]),$([C("➕ Zoom In")]))]))])),br(r.a)?i(D,$([h("bg-gray-900 rounded p-4 border border-dashed border-gray-600")]),$([i(dn,$([h("text-gray-500 text-center py-8")]),$([C("No clips imported yet. Click Import Video to get started.")]))])):is(r)]))]))},os=function(r){return i(D,$([h("flex flex-1 overflow-hidden")]),$([i(D,$([h("flex flex-col flex-1")]),$([Ov(r),us(r)])),i(ov,av,i(yv,i(W,iv,r.a),r.Z)),Xv(r)]))},$s={$:31},cs=nn("title"),vs=function(r){var n=r.c;if(n.$===1)return C("");var e=n.a,t=e.a,a=e.b,u=(function(){switch(t){case 0:return zr("bg-green-600","✓","text-white");case 1:return zr("bg-blue-600","ℹ","text-white");case 2:return zr("bg-yellow-500","⚠","text-black");default:return zr("bg-red-600","✗","text-white")}})(),o=u.a,c=u.b,s=u.c;return i(D,$([h("fixed top-4 right-4 "+(o+(" "+(s+" px-6 py-3 rounded-lg shadow-lg flex items-center space-x-3 z-50 animate-fade-in"))))]),$([i(Lr,$([h("text-xl font-bold")]),$([C(c)])),i(Lr,$([h("font-semibold")]),$([C(a)])),i(G,$([h("ml-4 hover:opacity-80 text-2xl leading-none"),z($s),cs("Dismiss")]),$([C("×")]))]))},fs=function(r){return i(D,$([h("flex flex-col min-h-screen bg-gray-900 text-white")]),$([tv(r),vs(r),os(r)]))},ss=R$({bm:O$,by:Ec,bA:nv,bB:fs});const ls={Main:{init:ss(ir(0))(0)}};async function xr(r,n={},e){return window.__TAURI_INTERNALS__.invoke(r,n,e)}function Me(r,n="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(r,n)}async function ps(r={}){return typeof r=="object"&&Object.freeze(r),await xr("plugin:dialog|open",{options:r})}const or=ls.Main.init({node:document.getElementById("root"),flags:null});let ie=null,Gn=null;function Pt(){return ie||(ie=document.getElementById("video-player")),ie}or.ports.requestImport.subscribe(async()=>{try{const r=await ps({multiple:!1,filters:[{name:"Video",extensions:["mp4","mov","MOV","MP4"]}]});if(r)try{const n=r.split("/").pop()||r.split("\\").pop(),e=`clips/${n}`,t=await xr("import_file",{path:r,dest:e}),a=JSON.parse(t),u=Me(e),o={id:Date.now().toString(),path:u,fileName:n,duration:a.duration,width:a.width,height:a.height};or.ports.clipImported.send(o),ie=null}catch(n){console.error("Error importing file:",n),alert(`Import failed: ${n}`)}}catch(r){console.error("Error opening file dialog:",r)}});or.ports.setVideoTime.subscribe(r=>{const n=Pt();n&&(n.currentTime=r)});or.ports.playVideo.subscribe(()=>{const r=Pt();r&&r.play().catch(n=>console.error("Error playing video:",n))});or.ports.pauseVideo.subscribe(()=>{const r=Pt();r&&r.pause()});or.ports.trimClip.subscribe(async r=>{console.log("[ClipForge] Trim clip requested:",r);try{const n=await xr("trim_clip",{inputPath:r.inputPath,outputPath:r.outputPath,startTime:r.startTime,endTime:r.endTime});console.log("[ClipForge] Trim complete, output:",n);const e=await xr("import_file",{path:n,dest:n});console.log("[ClipForge] Trimmed clip metadata:",e);const t=e.file_path||n,a=Me(t),u={id:r.clipId,path:a,fileName:t.split("/").pop()||t.split("\\").pop(),duration:e.duration,width:e.width,height:e.height};or.ports.trimComplete.send(u),console.log("[ClipForge] Trim complete, updated clip sent to Elm")}catch(n){console.error("[ClipForge] Trim failed:",n),alert(`Trim failed: ${n}`)}});or.ports.exportVideo.subscribe(async r=>{console.log("Export video requested:",r);try{const e={"720p":"1280x720","1080p":"1920x1080"}[r.resolution]||"1280x720";or.ports.exportProgress.send(0),await xr("export_video",{inputs:r.inputs,output:r.output,resolution:e}),or.ports.exportProgress.send(100),alert(`Export complete!
Output: ${r.output}`)}catch(n){console.error("Export failed:",n),alert(`Export failed: ${n}`)}});or.ports.recordWebcam.subscribe(async r=>{console.log("Webcam recording requested:",r);try{const n=await xr("record_webcam_clip",{output:r.output,duration:r.duration}),e=await xr("import_file",{path:n,dest:n}),t=JSON.parse(e),a=Me(n),u={id:Date.now().toString(),path:a,fileName:r.output,duration:t.duration,width:t.width,height:t.height};or.ports.recordingComplete.send(u),alert(`Webcam recording complete!
Saved to: ${n}`)}catch(n){console.error("Webcam recording failed:",n),alert(`Webcam recording failed: ${n}`)}});or.ports.recordScreen.subscribe(async()=>{console.log("[ClipForge] Screen recording requested");try{const r=await navigator.mediaDevices.getDisplayMedia({video:{width:{ideal:1920},height:{ideal:1080}}}),n=new MediaRecorder(r,{mimeType:"video/webm;codecs=vp8"});Gn=n;const e=[];n.ondataavailable=t=>{t.data.size>0&&e.push(t.data)},n.onstop=async()=>{console.log("[ClipForge] Screen recording stopped");try{r.getTracks().forEach(j=>j.stop()),Gn=null;const a=await new Blob(e,{type:"video/webm"}).arrayBuffer(),u=Array.from(new Uint8Array(a)),o=`screen_recording_${Date.now()}.webm`,c=`clips/${o}`;await xr("save_recording",{path:c,data:u});const s=await xr("import_file",{path:c,dest:c}),l=JSON.parse(s),m=Me(c),b={id:Date.now().toString(),path:m,fileName:o,duration:l.duration,width:l.width,height:l.height};or.ports.recordingComplete.send(b),console.log("[ClipForge] Screen recording complete, clip sent to Elm")}catch(t){console.error("[ClipForge] Error saving screen recording:",t),alert(`Failed to save recording: ${t}`)}},n.start(),console.log("[ClipForge] Screen recording started"),setTimeout(()=>{n.state==="recording"&&(console.log("[ClipForge] Auto-stopping screen recording after 10 seconds"),n.stop())},1e4)}catch(r){console.error("[ClipForge] Screen recording failed:",r),alert(`Screen recording failed: ${r}`)}});or.ports.stopRecording.subscribe(()=>{console.log("[ClipForge] Manual stop recording requested"),Gn&&Gn.state==="recording"?(Gn.stop(),console.log("[ClipForge] MediaRecorder stopped manually")):console.log("[ClipForge] No active recording to stop")});document.addEventListener("DOMContentLoaded",()=>{document.addEventListener("timeupdate",r=>{r.target.id==="video-player"&&or.ports.videoTimeUpdate.send(r.target.currentTime)})});
